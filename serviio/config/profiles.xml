<?xml version="1.0" encoding="UTF-8"?>
<Profiles version="1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://www.serviio.org/xsd/profiles/v/2.0/Profiles.xsd">

	<!--
		========================= DO NOT EDIT - start ====================================
	-->

	<Profile id="1" name="Generic DLNA profile">
		<ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.GenericDLNAMessageBuilder</ContentDirectoryMessageBuilder>
		<ProtocolInfo>DLNA</ProtocolInfo>
		<DeviceDescription>
			<FriendlyName>Serviio ({computerName})</FriendlyName>
			<ModelName>Serviio Media Server</ModelName>
			<Manufacturer>Petr Nejedly</Manufacturer>
		</DeviceDescription>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="audio/mpeg">MP3</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/mpeg">MP2_MPS</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/L16;rate=44100;channels=1" name="LPCM">LPCM16_44_MONO</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/L16;rate=44100;channels=2" name="LPCM">LPCM16_44_STEREO</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/L16;rate=48000;channels=1" name="LPCM">LPCM16_48_MONO</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/L16;rate=48000;channels=2" name="LPCM">LPCM16_48_STEREO</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/x-ms-wma">WMABASE</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/x-ms-wma">WMAFULL</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/x-ms-wma">WMAPRO</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/x-ms-wma">WMALSL</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/x-ms-wma">WMALSL_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/mp4">AAC_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/mp4">AAC_ISO_320</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/vnd.dlna.adts">AAC_ADTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/vnd.dlna.adts">AAC_ADTS_320</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/flac">FLAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/ogg">OGG</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/dsd">DSF</MediaFormatProfile>
			<MediaFormatProfile mime-type="application/vnd.apple.mpegurl">HLS_AUDIO</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/wav">WAV</MediaFormatProfile>
			<MediaFormatProfile mime-type="image/jpeg">JPEG_SM</MediaFormatProfile>
			<MediaFormatProfile mime-type="image/jpeg">JPEG_MED</MediaFormatProfile>
			<MediaFormatProfile mime-type="image/jpeg">JPEG_LRG</MediaFormatProfile>
			<MediaFormatProfile mime-type="image/jpeg">JPEG_TN</MediaFormatProfile>
			<MediaFormatProfile mime-type="image/png">PNG_LRG</MediaFormatProfile>
			<MediaFormatProfile mime-type="image/png">PNG_TN</MediaFormatProfile>
			<MediaFormatProfile mime-type="image/gif">GIF_LRG</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">MPEG1</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">MPEG_PS_PAL</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">MPEG_PS_NTSC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG_TS_SD_EU</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG_TS_SD_EU_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">MPEG_TS_SD_EU_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG_TS_SD_NA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG_TS_SD_NA_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">MPEG_TS_SD_NA_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG_TS_SD_KO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG_TS_SD_KO_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">MPEG_TS_SD_KO_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG_TS_JP_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-msvideo">AVI</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">MATROSKA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">AVC_MKV_MP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">AVC_MKV_MP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">AVC_MKV_MP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">AVC_MKV_HP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">AVC_MKV_HP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">AVC_MKV_HP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">AVC_MKV_MP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">AVC_MKV_MP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">AVC_MKV_HP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">AVC_MKV_HP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska">AVC_MKV_HP_HD_MLP</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-flv">FLV</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-dvr">DVR_MS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/wtv">WTV</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/ogg">OGV</MediaFormatProfile>
			<MediaFormatProfile mime-type="application/vnd.apple.mpegurl">HLS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.rn-realvideo">REAL_VIDEO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">HEVC_MP4</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">HEVC_TS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_SD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_HD_720p_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_HD_1080i_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_HP_HD_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_LPCM</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_SD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_SD_DTSHD</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_HP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_HP_HD_DTSHD</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_HP_HD_MLP</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">MPEG4_P2_MP4_ASP_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">MPEG4_P2_MP4_SP_L6_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">MPEG4_P2_MP4_NDSD</MediaFormatProfile>			
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG4_P2_TS_ASP_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG4_P2_TS_ASP_AAC_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">MPEG4_P2_TS_ASP_AAC_ISO</MediaFormatProfile>			
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG4_P2_TS_ASP_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG4_P2_TS_ASP_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">MPEG4_P2_TS_ASP_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG4_P2_TS_ASP_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG4_P2_TS_ASP_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">MPEG4_P2_TS_ASP_MPEG2_L2_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG4_P2_TS_ASP_MPEG2_L2</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">MPEG4_P2_TS_ASP_MPEG2_L2_T</MediaFormatProfile>						
			<MediaFormatProfile mime-type="video/mpeg">MPEG4_P2_TS_ASP_MPEG1_L3_ISO</MediaFormatProfile>		
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_SD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_TS_MP_SD_AAC_MULT5_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_SD_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_TS_MP_SD_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_SD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_SD_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_TS_MP_SD_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_HD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_TS_MP_HD_AAC_MULT5_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_HD_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_TS_MP_HD_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_MP_HD_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_TS_MP_HD_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_HD_DTS_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_TS_HD_DTS_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_DTSHD_MA_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_TS_DTSHD_MA_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_HD_50_LPCM_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_TS_HP_SD_MPEG1_L2_ISO</MediaFormatProfile>			
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_HP_SD_MPEG1_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_TS_HP_HD_MPEG1_L2_ISO</MediaFormatProfile>			
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">AVC_TS_HP_HD_MPEG1_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_TS_HP_HD_MLP</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv">WMVMED_BASE</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv">WMVMED_FULL</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv">WMVHIGH_FULL</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv">WMVMED_PRO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv">WMVHIGH_PRO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-asf">VC1_ASF_AP_L1_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-asf">VC1_ASF_AP_L2_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-asf">VC1_ASF_AP_L3_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">VC1_TS_AP_L1_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">VC1_TS_AP_L2_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">VC1_TS_HD_DTS_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">VC1_TS_HD_DTS_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">VC1_TS_HD_DTSHD_MA_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts">VC1_TS_HD_DTSHD_MA_T</MediaFormatProfile>	
			<MediaFormatProfile mime-type="video/3gpp">MPEG4_P2_3GPP_SP_L0B_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/3gpp">MPEG4_P2_3GPP_SP_L0B_AMR</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/3gpp">AVC_3GPP_BL_QCIF15_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/3gpp">MPEG4_H263_3GPP_P0_L10_AMR</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/3gpp">MPEG4_H263_MP4_P0_L10_AAC</MediaFormatProfile>
		</MediaFormatProfiles>
		<H264LevelCheck>ANY</H264LevelCheck>
		<Transcoding>
			<Image forceInheritance="true">
				<Matches container="raw"/>
			</Image>			
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="mp4"/>
				<Matches container="flv" vCodec="h264"/>			
    			<Matches container="applehttp" vCodec="h264"/>
			</Video>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" forceInheritance="true">
				<Matches container="rtp"/>
				<Matches container="rtsp"/>
				<Matches container="applehttp"/>
				<Matches container="mjpeg"/>
				<Matches container="mpjpeg"/>
			</Video>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384">
				<Matches container="asf"/> <!-- to support mms:// streams -->
				<Matches container="flv"/>
			</Video>
			<Audio targetContainer="mp3" aBitrate="320" forceInheritance="true">
				<Matches container="flv"/>
				<Matches container="asf"/>
				<Matches container="rtp"/>
				<Matches container="rtsp"/>
				<Matches container="mp3"/>	
				<Matches container="mp4"/>
				<Matches container="mpegts"/>			
			</Audio>
		</OnlineTranscoding>
		<GenericTranscoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" />
		</GenericTranscoding>
		<AutomaticImageRotation>false</AutomaticImageRotation>
		<AllowedImageResolutions large="4096x4096" medium="1024x768" small="640x480" />
		<LimitImageResolution>true</LimitImageResolution>
		<Subtitles>
			<SoftSubs mime-type="text/srt" type="srt" character-encoding="utf-8" />
			<HardSubs>
				<BitmapBased supported="true"/>
				<TextBased supported="true">
					<RequiredFor container="*"/>
				</TextBased>
			</HardSubs>
		</Subtitles>	
		<ThumbnailsResolution>DLNA</ThumbnailsResolution>
		<AllowChunkedTransfer>true</AllowChunkedTransfer>
		<MultipleAudioTrackAware>true</MultipleAudioTrackAware>
	</Profile>

	<!--
		========================= DO NOT EDIT - end	====================================
	-->

	<Profile id="2" name="Samsung TV (B-series)" extendsProfileId="1">
        <ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.SamsungDLNAMessageBuilder</ContentDirectoryMessageBuilder>
        <ResourceTransportProtocolHandler>org.serviio.upnp.protocol.http.transport.SamsungWiseLinkProtocolHandler</ResourceTransportProtocolHandler>
        <Detection>
            <UPnPSearch>
                <FriendlyName>^TV$</FriendlyName>
                <ModelName>Samsung DTV DMR</ModelName>
                <ModelNumber>1\.0</ModelNumber>
            </UPnPSearch>   
        </Detection>
        <DeviceDescription>
        	<ExtraElements>
        		&lt;sec:ProductCap&gt;smi,getMediaInfo.sec,getCaptionInfo.sec&lt;/sec:ProductCap&gt;
				&lt;sec:X_ProductCap&gt;smi,getMediaInfo.sec,getCaptionInfo.sec&lt;/sec:X_ProductCap&gt;
        	</ExtraElements>
        </DeviceDescription>
        <MediaFormatProfiles>
            <MediaFormatProfile mime-type="video/x-mkv">MATROSKA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_MP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_MP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_MP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_MP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_MP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_MLP</MediaFormatProfile>
            <MediaFormatProfile mime-type="video/x-msvideo" name="">AVI</MediaFormatProfile>
        </MediaFormatProfiles>
        <H264LevelCheck>FILE_ATTRIBUTES</H264LevelCheck>
        <Transcoding>
        	<!-- Transcode all h264 video with HIGH/MAIN > Level 4.1 on MPEG-TS stream with MPEG2VIDEO and ac3 audio transcoding -->
			<Video targetContainer="m2ts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="192" maxWidth="1920" maxHeight="1080">
				<Matches container="*" vCodec="h264" profile="high_10" />
				<Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.2" />
				<Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.2" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
            <!-- transcode MKV with DST/FLAC audio to AC3, remux into mpeg2ts -->
            <!-- transcode H264 MP4 files with LPCM audio -->
            <Video targetContainer="m2ts" targetACodec="ac3">
                <Matches container="matroska" vCodec="h264" aCodec="dca" /> 
                <Matches container="matroska" vCodec="h264" aCodec="dts-hd" />         
                <Matches container="mp4" vCodec="h264" aCodec="lpcm" />
                <Matches container="matroska" vCodec="h264" aCodec="flac" />
                <Matches container="matroska" vCodec="h264" aCodec="vorbis" />
                <Matches container="matroska" vCodec="h264" aCodec="truehd" />
                <Matches container="mpegts" vCodec="h264" aCodec="truehd" />
                <Matches container="matroska" vCodec="vc1" />
                <Matches container="avi" vCodec="h264" />
                <Matches container="mpegts" aCodec="mp2" />
                <Matches container="flv" vCodec="h264" />
                <Matches container="ogg" vCodec="mpeg4" />
                <Matches container="3gp" aCodec="amrnb" />   
                <Matches container="wtv" vCodec="h264" />
            </Video>
            <!-- transcode unsupported codec/container combinations into mpeg2ts -->
            <Video targetContainer="m2ts" targetACodec="ac3" targetVCodec="mpeg2video">
                <Matches container="asf" vCodec="wmv2" />
                <Matches container="matroska" vCodec="mpeg2video" />
                <Matches container="matroska" vCodec="vp8" />
                <Matches container="matroska" vCodec="vp9" />
                <Matches container="*" vCodec="h265" />
                <Matches container="avi" vCodec="mjpeg" />
                <Matches container="avi" vCodec="dvvideo" />
                <Matches container="mp4" vCodec="dvvideo" />
                <Matches container="mp4" vCodec="mjpeg" />
                <Matches container="flv" />
                <Matches container="ogg" />
                <Matches container="rm" />                
            </Video>
            <!-- For dvr-ms files force mpeg2video transcoding to fix monotone timestamps problems-->
            <Video targetContainer="m2ts" targetACodec="ac3" forceVTranscoding="true">
                <Matches container="asf" vCodec="mpeg2video" />
                <Matches container="asf" vCodec="mpeg1video" />
            </Video>
            <Video targetContainer="m2ts">
                <Matches container="wtv" />
            </Video>
            <!-- transcode audio only for wmv with wmapro -->
            <Video targetContainer="asf" targetACodec="ac3" aBitrate="256">
                <Matches container="asf" aCodec="wmapro" />
            </Video>           
            <Audio targetContainer="lpcm">
                <Matches container="asf" />
                <Matches container="mp4" />
                <Matches container="flac" />
                <Matches container="ogg" />
                <Matches container="adts" />
                <Matches container="mp3" codec="mp2"/>
                <Matches container="wv" />
                <Matches container="mpc" />
           		<Matches container="ape" />       
           		<Matches container="dsf" />
           		<Matches container="wav" />    		
           		<Matches container="mp4" codec="alac" />
            </Audio>
        </Transcoding>
        <OnlineTranscoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384">
				<Matches container="mp4"/>
			</Video>
		</OnlineTranscoding>
		<AudioTrackRemux>
			<Video targetContainer="m2ts" targetACodec="ac3" aBitrate="256">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" /> 
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
			</Video>
		</AudioTrackRemux>
        <AutomaticImageRotation>true</AutomaticImageRotation>
        <LimitImageResolution>false</LimitImageResolution>
		<Subtitles>
			<SoftSubs mime-type="smi/caption" type="srt" />
			<HardSubs>
				<TextBased supported="false" />
			</HardSubs>
		</Subtitles>	
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
    </Profile>

	<Profile id="3" name="Xbox 360" extendsProfileId="1">
		<ResourceTransportProtocolHandler>org.serviio.upnp.protocol.http.transport.XBox360ProtocolHandler</ResourceTransportProtocolHandler>
		<ProtocolInfo>simple</ProtocolInfo>
		<Detection>
			<UPnPSearch>
				<ModelName>Xbox 360</ModelName>
			</UPnPSearch>	
		</Detection>
		<DeviceDescription>
			<FriendlyName>Serviio ({computerName}): 1</FriendlyName>
			<ModelName>Windows Media Player Sharing</ModelName>
			<ModelNumber>12.0</ModelNumber>
		</DeviceDescription>
		<ContentDirectoryDefinitionFilter>org.serviio.upnp.service.contentdirectory.definition.XBox360ContentDirectoryDefinitionFilter</ContentDirectoryDefinitionFilter>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/avi">AVI</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv">VC1_ASF_AP_L1_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv">VC1_ASF_AP_L2_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv">VC1_ASF_AP_L3_WMA</MediaFormatProfile>
		</MediaFormatProfiles>
		<Transcoding>
			<!--
				http://blogs.msdn.com/xboxteam/archive/2007/11/30/december-2007-video-playback-faq.aspx
			-->
			<Video targetContainer="asf" targetVCodec="wmv2" targetACodec="wmav2" maxVBitrate="15360" forceStereo="true" maxWidth="1920" maxHeight="1080">
				<Matches container="matroska" />
				<Matches container="mpeg" />
				<Matches container="mpegts" />
				<Matches container="mpegvideo" />
				<Matches container="avi" vCodec="h264" />
				<Matches container="avi" vCodec="msmpeg4" />
				<Matches container="avi" vCodec="wmv2" />
				<Matches container="avi" vCodec="dvvideo" />
				<Matches container="mp4" vCodec="dvvideo" />
				<Matches container="mp4" vCodec="h265" />
				<Matches container="wtv" />
				<Matches container="ogg" />
				<Matches container="3gp" />
				<Matches container="flv" />  
				<Matches container="rm" />
				<Matches container="mp4" vCodec="h264" aCodec="aac" aMultichannel="true" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<Audio targetContainer="mp3">
				<Matches container="flac" />
				<Matches container="ogg" />
				<Matches container="adts" />
				<Matches container="mp4" /> <!-- iTunes store m4a files need to be transcoded to play -->
				<Matches container="mp3" codec="mp2" />
				<Matches container="wv" />
				<Matches container="mpc" />
            	<Matches container="ape" />
            	<Matches container="dsf" />
            	<Matches container="wav" />
            	<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
		<OnlineTranscoding keepStreamOpen="false">
			<Video targetContainer="asf" targetVCodec="wmv2" targetACodec="wmav2" maxVBitrate="15360" forceStereo="true">
				<Matches container="*"/>
			</Video>
		</OnlineTranscoding>
		<GenericTranscoding>
			<Video targetContainer="asf" targetVCodec="wmv2" targetACodec="wmav2" maxVBitrate="15360" forceStereo="true"/>
		</GenericTranscoding>
		<LimitImageResolution>false</LimitImageResolution>
		<ThumbnailsResolution>HD</ThumbnailsResolution>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>

	<Profile id="4" name="Playstation 3" extendsProfileId="1">
	 <!-- http://manuals.playstation.net/document/en/ps3/current/video/filetypes.html
	  
	    The following types of files can be played under  (Video).
	    Memory Stick Video Format
	     - MPEG-4 SP (AAC LC)
	     - H.264/MPEG-4 AVC High Profile (AAC LC)
	     - MPEG-2 TS(H.264/MPEG-4 AVC, AAC LC)
	    MP4 file format
	     - H.264/MPEG-4 AVC High Profile (AAC LC)
	    MPEG-1 (MPEG Audio Layer 2)
	    MPEG-2 PS (MPEG2 Audio Layer 2, AAC LC, AC3(Dolby Digital), LPCM)
	    MPEG-2 TS (MPEG2 Audio Layer 2, AC3(Dolby Digital), AAC LC)
	    MPEG-2 TS (H.264/MPEG-4 AVC, AAC LC)
	    AVI
	     - Motion JPEG (Linear PCM)
	     - Motion JPEG (mu-Law)
	    AVCHD (.m2ts / .mts)
	    DivX
	    WMV
	     - VC-1(WMA Standard V2) -->
		<Detection>
			<HttpHeaders>
				<X-AV-Client-Info>.*PLAYSTATION 3.*</X-AV-Client-Info>
			</HttpHeaders>	
		</Detection>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/divx">AVI</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv">VC1_ASF_AP_L1_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv">VC1_ASF_AP_L2_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv">VC1_ASF_AP_L3_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4" name="">MPEG4_P2_MP4_ASP_AAC</MediaFormatProfile>
		</MediaFormatProfiles>
		<Transcoding>
			<!-- Transcode all h264 video with HIGH/MAIN > Level 4.1 on MPEG-TS stream with MPEG2VIDEO and ac3 audio transcoding -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" maxWidth="1920" maxHeight="1080">
				<Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.1" />
				<Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.1" />
				<Matches container="avi" vCodec="dvvideo" />
				<Matches container="matroska" vCodec="vp8" />
				<Matches container="matroska" vCodec="vp9" />
				<Matches container="*" vCodec="h265" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<!--
				remux MKV with any video to MPEG2TS and possibly change audio to ac3, also AVI and FLV with H264
			-->
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="matroska" />
				<Matches container="avi" vCodec="h264" />
				<Matches container="flv" vCodec="h264" />
				<Matches container="3gp" vCodec="h264" />
			</Video>
			<Video targetContainer="mpegts" >
				<Matches container="wtv" />
				<Matches container="asf" vCodec="mpeg2video"/> <!--  dvr-ms -->				
			</Video>
			<!-- all other unplayable files just transcode to mpeg2 -->
			<Video targetContainer="mpegts" targetACodec="ac3" targetVCodec="mpeg2video" aBitrate="384">
				<Matches container="flv" />
				<Matches container="ogg" />
				<Matches container="3gp" />
				<Matches container="asf" vCodec="mpeg1video"/> <!--  dvr-ms -->
				<Matches container="asf" vCodec="vc1" aCodec="wmapro"/> <!-- only 2 channel audio is natively supported -->
				<Matches container="asf" vCodec="wmv2"/>
				<Matches container="rm" />
			</Video>
			<Audio targetContainer="lpcm" aSamplerate="48000">
				<Matches container="flac" />
				<Matches container="ogg" />
				<Matches container="adts" />
				<Matches container="wv" />
				<Matches container="mp3" codec="mp2" />
				<Matches container="mpc" />
            	<Matches container="ape" />
            	<Matches container="dsf" />
            	<Matches container="wav" />
            	<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="mp4"/>					
    			<Matches container="applehttp" vCodec="h264"/>
			</Video>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3">
				<Matches container="asf"/> <!-- to support mms:// streams -->
			</Video>
			<!-- PS3 doesn't like mp3 with unlimited duration (eg online mp3 streams or streams transcoded into mp3 -->
			<Audio targetContainer="lpcm" aSamplerate="48000">
				<Matches container="mp3"/>
				<Matches container="flv"/>
				<Matches container="asf"/>
			</Audio>
		</OnlineTranscoding>
		<AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" /> 
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
			</Video>
		</AudioTrackRemux>
		<GenericTranscoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" />
		</GenericTranscoding>
		<LimitImageResolution>false</LimitImageResolution>
		<AutomaticImageRotation>true</AutomaticImageRotation>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>
	
	<Profile id="ps4" name="Playstation 4" extendsProfileId="1">
      <!-- http://manuals.playstation.net/document/en/ps4/music/mp_format_m.html
       Videos
       MKV
         Visual: H.264/MPEG-4 AVC High Profile Level4.2
         Audio: MP3, AAC LC, AC-3 (Dolby Digital)
       AVI
         Visual: MPEG4 ASP, H.264/MPEG-4 AVC High Profile Level4.2
         Audio: MP3, AAC LC, AC-3 (Dolby Digital)
       MP4
         Visual: H.264/MPEG-4 AVC High Profile Level4.2
         Audio: AAC LC, AC-3 (Dolby Digital)
       MPEG-2 TS
         Visual: H.264/MPEG-4 AVC High Profile Level4.2, MPEG2 Visual
         Audio: MP2 (MPEG2 Audio Layer 2), AAC LC, AC-3 (Dolby Digital)
         AVCHD (.m2ts, .mts)
       Photos
         JPEG (DCF 2.0/Exif 2.21 compliant), BMP, PNG, 
       Music
         MP3, AAC (M4A) -->
      <Detection>
         <!-- Detection is not yet working - profile must be manually assigned to the device -->
         <HttpHeaders>
            <User-Agent>.*PlayStation 4.*</User-Agent>
         </HttpHeaders>
      </Detection>
      <MediaFormatProfiles>
         <MediaFormatProfile mime-type="video/x-ms-wmv">VC1_ASF_AP_L1_WMA</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/x-ms-wmv">VC1_ASF_AP_L2_WMA</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/x-ms-wmv">VC1_ASF_AP_L3_WMA</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/mp4" name="">MPEG4_P2_MP4_ASP_AAC</MediaFormatProfile>
      </MediaFormatProfiles>
      <Transcoding>
         <!-- Transcode all h264 video with HIGH/MAIN > Level 4.2 on MPEG-TS stream with MPEG2VIDEO and AC3 audio transcoding -->
         <Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384">
            <Matches container="*" vCodec="h264" profile="high_10" />
            <Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.2" />
            <Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.2" />
         </Video>
         <!-- Remux any H264 video with unsupported audio (DTS, FLAC, True-HD, Vorbis) changing audio to ac3, 
             Also remux all AVI, 3GP, ASF, WMV and FLV with H264 changing audio to AC3 if needed -->
         <Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
            <Matches container="*" vCodec="h264" aCodec="dca" />
            <Matches container="*" vCodec="h264" aCodec="dts-hd" />
            <Matches container="*" vCodec="h264" aCodec="flac" />
            <Matches container="*" vCodec="h264" aCodec="truehd" />
            <Matches container="*" vCodec="h264" aCodec="vorbis" />
            <Matches container="flv" vCodec="h264" />
            <Matches container="3gp" vCodec="h264" />
            <Matches container="asf" vCodec="h264"/>
         </Video>
         <!-- Transcode and/or Remux any unsuported containers, video or audio 
             Change video to MPEG2VIDEO if needed, and audio to AC3 if needed -->
         <Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384">
            <!-- Unsupported containers -->
            <Matches container="asf" />
            <Matches container="wtv" />
            <Matches container="flv" />
            <Matches container="ogg" />
            <Matches container="3gp" />
            <Matches container="rm" />
            <!-- Catch any remaining unsupported video codecs -->
            <Matches container="avi" vFourCC="div3,div4,div5,divx,dm4v,dx50,xvid" />
            <Matches container="matroska" vCodec="vp8" />
            <Matches container="matroska" vCodec="vp9" />
            <Matches container="*" vCodec="h263" />
            <Matches container="*" vCodec="h265" />
            <Matches container="*" vCodec="dvvideo" />
            <Matches container="*" vCodec="mjpeg"/>
            <Matches container="*" vCodec="mpeg1video"/>
            <!-- Catch any remaining unsupported audio codecs -->
            <Matches container="*" aCodec="lpcm" />
         </Video>
         <Audio targetContainer="mp3" aSamplerate="48000">
            <!--Matches container="flac" /--> <!-- Flac support has been added to PS4 Media Player v2.50 -->
            <Matches container="ogg" />
            <Matches container="adts" />
            <Matches container="wv" />
            <Matches container="mp3" codec="mp2" />
            <Matches container="mpc" />
            <Matches container="ape" />
            <Matches container="lpcm" />
            <Matches container="dsf" />
            <Matches container="wav" />
            <Matches container="mp4" codec="alac" />
         </Audio>
      </Transcoding>
      <OnlineTranscoding>
         <Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
            <Matches container="mp4"/>         
            <Matches container="applehttp" vCodec="h264"/>
         </Video>
         <Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3">
            <Matches container="asf"/> <!-- to support mms:// streams -->
         </Video>
         <Audio targetContainer="mp3" aSamplerate="48000">
            <Matches container="mp3"/>
            <Matches container="flv"/>
            <Matches container="asf"/>
         </Audio>
      </OnlineTranscoding>
      <AudioTrackRemux>
		<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
			<Matches container="*" vCodec="h264" />
			<Matches container="*" vCodec="mpeg2video" /> 
			<Matches container="*" vCodec="mpeg1video" />
			<Matches container="*" vCodec="mpeg4" />
			<Matches container="*" vCodec="msmpeg4" />
		</Video>
	  </AudioTrackRemux>
      <GenericTranscoding>
      	 <Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" />
      </GenericTranscoding>
      <LimitImageResolution>false</LimitImageResolution>
      <AutomaticImageRotation>true</AutomaticImageRotation>
      <ThumbnailsResolution>HD</ThumbnailsResolution>    
      <MultipleAudioTrackAware>false</MultipleAudioTrackAware>
   </Profile>

	<Profile id="5" name="Samsung TV (A-series)" extendsProfileId="2">
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/mpeg">AVI</MediaFormatProfile>
		</MediaFormatProfiles>		
		<Transcoding>
			<!-- For dvr-ms files force mpeg2video transcoding to fix monotone timestamps problems-->
			<Video targetContainer="mpegts" targetACodec="ac3" forceVTranscoding="true">
				<Matches container="asf" vCodec="mpeg2video" />
				<Matches container="asf" vCodec="mpeg1video" />
			</Video>
			<Video targetContainer="mpegts" targetACodec="ac3">
				<Matches container="matroska" vCodec="h264" />
			</Video>
			<Video targetContainer="mpegts" targetACodec="ac3" targetVCodec="mpeg2video">
				<Matches container="matroska" />
				<!-- <Matches container="mp4" /> -->
				<Matches container="asf" />
				<Matches container="avi" vCodec="mjpeg" />
				<Matches container="avi" vCodec="dvvideo" />
				<Matches container="ogg" />
				<Matches container="3gp" />  
				<Matches container="rm" />
			</Video>
			<Video targetContainer="mpegts">
				<Matches container="wtv" />
			</Video>
			<Audio targetContainer="lpcm">
				<Matches container="asf" />
				<Matches container="mp4" />
				<Matches container="flac" />
				<Matches container="ogg" />
				<Matches container="adts" />
				<Matches container="mp3" codec="mp2" />
				<Matches container="wv" />
				<Matches container="mpc" />
         	   <Matches container="ape" />
         	   <Matches container="dsf" />
         	   <Matches container="wav" />
         	   <Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>

	<Profile id="6" name="DirecTV HD-DVR" extendsProfileId="1">
		<Detection>
			<HttpHeaders>
				<User-Agent>.*DIRECTV.*</User-Agent>
			</HttpHeaders>
			<UPnPSearch>
                <FriendlyName>^DIRECTV.*$</FriendlyName>
            </UPnPSearch>
		</Detection>
		<Transcoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="mp2" maxVBitrate="8192" forceStereo="true" DAR="16:9" maxWidth="1920" maxHeight="1080">
				<Matches container="matroska" />
				<Matches container="mp4" />
				<Matches container="asf" />
				<Matches container="avi" />
				<Matches container="ogg" />
				<Matches container="flv" />
				<Matches container="3gp" />  				
				<Matches container="rm" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<Audio targetContainer="mp3">
	            <Matches container="flac" />
	            <Matches container="ogg" />
	            <Matches container="adts" />
	            <Matches container="mp4" /> <!-- iTunes store m4a files need to be transcoded to play -->
	            <Matches container="mp3" codec="mp2" />
	            <Matches container="wv" />
	            <Matches container="mpc" />
            	<Matches container="ape" />
            	<Matches container="dsf" />
            	<Matches container="wav" />
            	<Matches container="mp4" codec="alac" />
	         </Audio>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="mp2" maxVBitrate="8192" forceStereo="true" DAR="16:9">
				<Matches container="*" />
			</Video>
		</OnlineTranscoding>
		<GenericTranscoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="mp2" maxVBitrate="8192" forceStereo="true" DAR="16:9" />
		</GenericTranscoding>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>
	
	<Profile id="sam_h" name="Samsung TV / player (H-series)" extendsProfileId="1">
		<ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.SamsungDLNAMessageBuilder</ContentDirectoryMessageBuilder>
		<ResourceTransportProtocolHandler>org.serviio.upnp.protocol.http.transport.SamsungWiseLinkProtocolHandler</ResourceTransportProtocolHandler>
		<Detection>
			<UPnPSearch>
				<FriendlyName>(^\[TV\]\s?[A-Z]{2}\d{2}H[A-Z]?\d{3,4}.*)</FriendlyName>
				<ModelNumber>(1\.0)|(AllShare1\.0)</ModelNumber>
			</UPnPSearch>
			<HttpHeaders>
				<!-- for BD players -->
				<User-Agent>(.*SEC_HHP_BD-H.*)|(.*SEC_HHP_\[(HT|BD)\]H.*)|(\[BD\]H.*)</User-Agent>
			</HttpHeaders>
		</Detection>
		<DeviceDescription>
        	<ExtraElements>
        		&lt;sec:ProductCap&gt;smi,DCM10,getMediaInfo.sec,getCaptionInfo.sec&lt;/sec:ProductCap&gt;
				&lt;sec:X_ProductCap&gt;smi,DCM10,getMediaInfo.sec,getCaptionInfo.sec&lt;/sec:X_ProductCap&gt;
        	</ExtraElements>
        </DeviceDescription>
        <MediaFormatProfiles>
            <MediaFormatProfile mime-type="video/x-mkv">MATROSKA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_MP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_MP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_MP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_MP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_MP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-mkv">AVC_MKV_HP_HD_MLP</MediaFormatProfile>
            <MediaFormatProfile mime-type="video/x-msvideo" name="">AVI</MediaFormatProfile>
            <MediaFormatProfile mime-type="audio/x-flac">FLAC</MediaFormatProfile>
            <MediaFormatProfile mime-type="audio/x-wav">WAV</MediaFormatProfile>
        </MediaFormatProfiles>
		<ContentDirectoryDefinitionFilter>org.serviio.upnp.service.contentdirectory.definition.SamsungContentDirectoryDefinitionFilter</ContentDirectoryDefinitionFilter>	
		<H264LevelCheck>FILE_ATTRIBUTES</H264LevelCheck>
		<Transcoding>			
			<!-- Transcode all h264 video with HIGH/MAIN > Level 4.1 on MPEG-TS stream with MPEG2VIDEO and ac3 audio transcoding -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="192" maxVBitrate="15360" forceInheritance="true" maxWidth="1920" maxHeight="1080">
				<Matches container="*" vCodec="h264" profile="high_10" />
				<Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.2" />
				<Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.2" />
				<Matches container="*" vCodec="h265" /> <!-- some h265 files seem to be natively supported, so this line could be removed -->
                <Matches container="mp4" vCodec="mpeg4" aCodec="lpcm" />
                <Matches container="mp4" vCodec="dvvideo" />
                <Matches container="mp4" vCodec="mjpeg" />
                <Matches container="matroska" vCodec="vp8" />
                <Matches container="matroska" vCodec="vp9" />
			</Video>
			<Video targetContainer="mpegts" targetACodec="ac3" forceInheritance="true">
				<Matches container="wtv" vCodec="h264"/>  
			</Video>	
			<Video targetContainer="mpegts" forceInheritance="true">
				<Matches container="wtv" />
			</Video>
			<!-- transcode wmv2-wmav2, not: wmv3-wmapro it works ok on E series-->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" forceInheritance="true">
				<Matches container="asf" vCodec="wmv2" />
			</Video>
			<Audio targetContainer="lpcm" forceInheritance="true">
				<Matches container="mp4" />
				<Matches container="ogg" />
				<Matches container="adts" />
				<Matches container="mp3" codec="mp2" />
				<Matches container="wv" />
				<Matches container="mpc" />
      		    <Matches container="ape" />
      		    <Matches container="asf" />
      		    <Matches container="dsf" />
      		    <Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="applehttp" vCodec="h264"/>
			</Video>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384">
				<Matches container="asf" /> <!-- mms -->
				<Matches container="flv" /> <!-- transcoding all flv streams, even h264, to avoild premature disconnects, to avoid this, use Samsung C/D profile -->
			</Video>
		</OnlineTranscoding>
		<AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" /> 
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
				<Matches container="*" vCodec="vc1" />
			</Video>
		</AudioTrackRemux>
		<GenericTranscoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384"/>
		</GenericTranscoding>
		<AutomaticImageRotation>true</AutomaticImageRotation>
        <LimitImageResolution>false</LimitImageResolution>
		<Subtitles>
			<SoftSubs mime-type="smi/caption" type="srt" />
			<HardSubs>
				<TextBased supported="false" />
			</HardSubs>
		</Subtitles>	
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>
	
	<Profile id="sam_j" name="Samsung TV / player (J-series)" extendsProfileId="1">
		<ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.SamsungTizenDLNAMessageBuilder</ContentDirectoryMessageBuilder>
		<ResourceTransportProtocolHandler>org.serviio.upnp.protocol.http.transport.SamsungWiseLinkProtocolHandler</ResourceTransportProtocolHandler>
		<Detection>
			<UPnPSearch>
				<ModelName>(^[A-Z]{2}\d{2}(J|K)[A-Z]?\d{3,4}.*)</ModelName>
				<ModelNumber>(1\.0)|(AllShare1\.0)</ModelNumber>
			</UPnPSearch>
			<HttpHeaders>
				<!-- some models only support headers -->
				<User-Agent>(.*SEC_HHP_\[TV\] [A-Z]{2}\d{2}(J|K)[A-Z]?\d{3,4}.*)</User-Agent>
			</HttpHeaders>
		</Detection>
        <MediaFormatProfiles>
            <MediaFormatProfile mime-type="audio/x-flac">FLAC</MediaFormatProfile>
            <MediaFormatProfile mime-type="audio/x-wav">WAV</MediaFormatProfile>
        </MediaFormatProfiles>
		<ContentDirectoryDefinitionFilter>org.serviio.upnp.service.contentdirectory.definition.SamsungContentDirectoryDefinitionFilter</ContentDirectoryDefinitionFilter>
		<H264LevelCheck>FILE_ATTRIBUTES</H264LevelCheck>
		<Transcoding>
			<!-- Transcode all h264 video with HIGH/MAIN > Level 4.1 on MPEG-TS stream with MPEG2VIDEO and ac3 audio transcoding -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="192" maxVBitrate="15360" forceInheritance="true">
				<Matches container="*" vCodec="h264" profile="high_10" />
				<Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.2" />
				<Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.2" />
                <Matches container="mp4" vCodec="mpeg4" aCodec="lpcm" />
                <Matches container="*" vCodec="dvvideo" />
                <Matches container="mp4" vCodec="mjpeg" />
                <Matches container="matroska" vCodec="vp9" />
			</Video>
			<Video targetContainer="mpegts" targetACodec="ac3" forceInheritance="true">
				<Matches container="wtv" vCodec="h264"/>
			</Video>
			<Video targetContainer="mpegts" forceInheritance="true">
				<Matches container="wtv" />
			</Video>
			<Audio targetContainer="mp3" forceInheritance="true">
				<Matches container="mp4" />
				<Matches container="ogg" />
				<Matches container="adts" />
				<Matches container="mp3" codec="mp2" />
				<Matches container="wv" />
				<Matches container="mpc" />
      		    <Matches container="ape" />
      		    <Matches container="asf" />
      		    <Matches container="dsf" />
      		    <Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="applehttp" vCodec="h264"/>
			</Video>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384">
				<Matches container="asf" /> <!-- mms -->
				<Matches container="flv" /> <!-- transcoding all flv streams, even h264, to avoild premature disconnects, to avoid this, use Samsung C/D profile -->
			</Video>
		</OnlineTranscoding>
		<AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" />
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
				<Matches container="*" vCodec="vc1" />
			</Video>
		</AudioTrackRemux>
		<GenericTranscoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384"/>
		</GenericTranscoding>
		<AutomaticImageRotation>true</AutomaticImageRotation>
        <LimitImageResolution>false</LimitImageResolution>
		<Subtitles>
			<SoftSubs mime-type="smi/caption" type="srt" />
			<HardSubs>
				<TextBased supported="false" />
			</HardSubs>
		</Subtitles>
	</Profile>

	<Profile id="sam_m" name="Samsung TV / player (M-series)" extendsProfileId="sam_j">
		<Detection>
			<UPnPSearch>
				<ModelName>(^[A-Z]{2}\d{2}M[A-Z]?\d{3,4}.*)</ModelName>
				<ModelNumber>(1\.0)|(AllShare1\.0)</ModelNumber>
			</UPnPSearch>
			<HttpHeaders>
				<!-- some models only support headers -->
				<User-Agent>(.*SEC_HHP_\[TV\] [A-Z]{2}\d{2}M[A-Z]?\d{3,4}.*)</User-Agent>
			</HttpHeaders>
		</Detection>
	</Profile>

	<Profile id="Samsung_NU" name="Samsung TV (NU-series)" extendsProfileId="1">
		<ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.SamsungTizenDLNAMessageBuilder</ContentDirectoryMessageBuilder>
		<ResourceTransportProtocolHandler>org.serviio.upnp.protocol.http.transport.SamsungWiseLinkProtocolHandler</ResourceTransportProtocolHandler>
		<Detection>
			<UPnPSearch>
				<ModelName>(^[A-Z]{2}\d{2}N[A-Z]?\d{3,4}.*)</ModelName>
				<ModelNumber>(1\.0)|(AllShare1\.0)</ModelNumber>
			</UPnPSearch>
			<HttpHeaders>
				<!-- some models only support headers -->
				<User-Agent>(.*SEC_HHP_\[TV\] [A-Z]{2}\d{2}N[A-Z]?\d{3,4}.*)</User-Agent>
			</HttpHeaders>
		</Detection>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/x-matroska">MATROSKA</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/x-flac">FLAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/x-wav">WAV</MediaFormatProfile>
		</MediaFormatProfiles>
		<ContentDirectoryDefinitionFilter>org.serviio.upnp.service.contentdirectory.definition.SamsungContentDirectoryDefinitionFilter</ContentDirectoryDefinitionFilter>
		<H264LevelCheck>FILE_ATTRIBUTES</H264LevelCheck>
		<Transcoding>
			<!-- transcode HD video unsupported by device, transcode audio regardless of codec -->

			<!-- Remux H.264 video stream, transcode audio only -->
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="h264" aCodec="truehd" />
				<Matches container="*" vCodec="h264" aCodec="dts-hd" />
				<Matches container="*" aCodec="dca" />
			</Video>
			<!-- Remux H.265 video stream, transcode audio only -->
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="h265" aCodec="truehd" />
				<Matches container="*" vCodec="h265" aCodec="dts-hd" />
			</Video>
			<!-- Transcode VC1 video, which for some reason doesn't seem to like HLS transcoding -->
			<Video targetContainer="mpegts" targetVCodec="h264" targetACodec="ac3" aBitrate="512" >
				<Matches container="*" vCodec="vc1"/>
				<Matches container="*" vCodec="msmpeg4"/>
			</Video>
			<!-- Transcode other non-H.264 video or FLAC audio -->
			<Video targetContainer="mpegts" targetVCodec="h264" targetACodec="ac3" >
				<Matches container="*" vCodec="wmv2"/>
				<Matches container="*" aCodec="flac"/>
				<Matches container="*" vCodec="mpeg1video"/>
				<Matches container="*" vCodec="mpeg4" levelGreaterThan="4.2" />
				<!-- transcode non-supported containers regardless of codec -->
				<Matches container="wtv"/>
				<Matches container="avi" />
				<Matches container="mpegvideo"/>
				<Matches container="mpeg"/>
			</Video>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="applehttp"> <!-- dont transcode to ac3 -->
				<Matches container="mp4" />
				<Matches container="flv" vCodec="h264" />
			</Video>
		</OnlineTranscoding>
		<GenericTranscoding>
			<Video targetContainer="mpegts" targetVCodec="h264" targetACodec="aac" />
		</GenericTranscoding>
		<ThumbnailsResolution>HD</ThumbnailsResolution>
		<AllowChunkedTransfer>true</AllowChunkedTransfer>
		<MultipleAudioTrackAware>true</MultipleAudioTrackAware>
		<AutomaticImageRotation>true</AutomaticImageRotation>
		<LimitImageResolution>false</LimitImageResolution>
		<Subtitles>
			<SoftSubs mime-type="smi/caption" type="srt" />
			<HardSubs>
				<TextBased supported="false" />
			</HardSubs>
		</Subtitles>
	</Profile>

	<Profile id="sam_ef" name="Samsung TV / player (E/F-series)" extendsProfileId="sam_h">
		<Detection>
			<UPnPSearch>
				<FriendlyName>(^\[TV\][A-Z]{2}\d{2}(E|F)[A-Z]?\d{3,4}.*)|^\[TV\]\s?Samsung(\sLED.*)?</FriendlyName>				
				<ModelNumber>(1\.0)|(AllShare1\.0)</ModelNumber>
			</UPnPSearch>	
			<HttpHeaders>
				<!-- for BD players -->
				<User-Agent>(.*SEC_HHP_BD-[EF].*)|(.*SEC_HHP_\[(HT|BD)\][EF].*)</User-Agent>
			</HttpHeaders>
		</Detection>
		<Transcoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" maxVBitrate="15360" maxWidth="1920" maxHeight="1080" forceInheritance="true">
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<!-- transcode H264 MP4 files with LPCM audio -->
			<Video targetContainer="mpegts" targetACodec="ac3" forceInheritance="true">
				<!-- Matches container="mpegts" aCodec="mp2" /-->
				<Matches container="mp4" aCodec="lpcm" />
				<!-- <Matches container="flv" vCodec="h264" /> -->
				<Matches container="matroska" vCodec="h264" aCodec="flac" />
				<Matches container="matroska" vCodec="h264" aCodec="vorbis" />
				<Matches container="matroska" vCodec="h264" aCodec="truehd" />
				<Matches container="mpegts" vCodec="h264" aCodec="truehd" />
				<Matches container="ogg" vCodec="mpeg4" />
				<Matches container="3gp" vCodec="h264" aCodec="amrnb" />
			</Video>	
			<Video targetContainer="mpegts" targetACodec="ac3" targetVCodec="mpeg2video" forceInheritance="true">
				<Matches container="matroska" vCodec="mpeg2video" />
				<Matches container="matroska" vCodec="vp8" />
				<Matches container="matroska" vCodec="vc1" aCodec="truehd" />
				<Matches container="avi" vCodec="h264" />
				<Matches container="avi" vCodec="mjpeg" />
				<Matches container="avi" vCodec="dvvideo" />
				<Matches container="flv" vCodec="flv"/> <!-- some models support playing flv natively, in that case remove this line -->
				<Matches container="flv" vCodec="h263"/>
				<Matches container="flv" vCodec="vp6"/>
				<Matches container="3gp" vCodec="h263" />
				<Matches container="3gp" vCodec="mpeg4" /> <!-- some cameras produce mp4 codec that won't play -->
				<Matches container="ogg" />
				<Matches container="rm" /> <!-- some models might support RealVideo natively, in that case remove this line -->
			</Video>
			<!-- For dvr-ms files force mpeg2video transcoding to fix monotone timestamps problems-->
			<Video targetContainer="mpegts" targetACodec="ac3" forceVTranscoding="true" forceInheritance="true">
				<Matches container="asf" vCodec="mpeg2video" />
				<Matches container="asf" vCodec="mpeg1video" />
			</Video>			            
		</Transcoding>
	</Profile>
	
	<Profile id="7" name="Samsung TV / player (C/D-series)" extendsProfileId="sam_ef">
		<Detection>
			<UPnPSearch>
				<FriendlyName>(^TV-\d{2}C\d{3}.*)|(^\[TV\][A-Z]{2}\d{2}(D)[A-Z]?\d{3,4}.*)|^\[TV\] Samsung</FriendlyName>				
				<ModelNumber>(1\.0)|(AllShare1\.0)</ModelNumber>
			</UPnPSearch>	
			<HttpHeaders>
				<!-- for BD players -->
				<User-Agent>(.*SEC_HHP_BD-[CD].*)|(.*SEC_HHP_\[(HT|BD)\][CD].*)</User-Agent>
			</HttpHeaders>
		</Detection>
		<Transcoding>
			<!-- transcode audio only for wmv with wmapro -->
			<Video targetContainer="asf" targetACodec="ac3" aBitrate="256">
				<Matches container="asf" aCodec="wmapro" />
			</Video>
			<Audio targetContainer="lpcm">
				<Matches container="flac" />
				<Matches container="wav" />				
			</Audio>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="mp4" vCodec="h264" />		
    			<Matches container="applehttp" vCodec="h264"/>
    			<Matches container="flv" vCodec="h264"/>
			</Video>		
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384">
				<Matches container="mp4" />
				<Matches container="asf" /> <!-- mms -->
			</Video>
		</OnlineTranscoding>				
	</Profile>
	
	<Profile id="8" name="LG TV / player" extendsProfileId="1">
		<Detection>
			<HttpHeaders>
				<friendlyName.dlna.org>LG.*</friendlyName.dlna.org>
			</HttpHeaders>
		</Detection>
		<!-- ResourceTransportProtocolHandler>org.serviio.upnp.protocol.http.transport.LGProtocolHandler</ResourceTransportProtocolHandler -->
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/mp4" name="">AVI</MediaFormatProfile>
		</MediaFormatProfiles>		
		<!-- 
		Transcoding doesn't seem to work and some files can be played natively: 
		http://forum.serviio.org/viewtopic.php?f=12&t=3914#p26273
		<Transcoding>
			<Video targetContainer="mpegts" targetACodec="ac3">
				<Matches container="matroska" aCodec="dca" />
			</Video>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" >
				<Matches container="flv" />
            	<Matches container="asf" vCodec="wmv2"/>
            	<Matches container="rm" />
            	<Matches container="wtv" />
			</Video>
		</Transcoding>-->
		<GenericTranscoding>
		  <Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" />
		</GenericTranscoding>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>

	<Profile id="sony2012" name="Sony Bravia TV (2012)" extendsProfileId="1">
      <!-- 2012 models
         - Still images: JPEG, MPO
         - Music: MP3, linear PCM, WMA, MP4
         - Video: AVCHD, MPEG2, MPEG1, MP4 (AVC), MP4 (MPEG4), DivX, WMV -->
      <Detection>
         <UPnPSearch>
            <FriendlyName>BRAVIA KDL-\d{2}[A-Z]X\d5(\d|G).*</FriendlyName>
         </UPnPSearch>
      </Detection>
      <DeviceDescription>
         <!-- act as WMP so that the TV doesn't show root categories -->
         <ModelName>Windows Media Player Sharing</ModelName>
         <ModelNumber>3.0</ModelNumber>
         <Manufacturer>Microsoft Corporation</Manufacturer>
      </DeviceDescription>
      <ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.SonyDLNAMessageBuilder</ContentDirectoryMessageBuilder>
      <ContentDirectoryDefinitionFilter>org.serviio.upnp.service.contentdirectory.definition.WMPContentDirectoryDefinitionFilter</ContentDirectoryDefinitionFilter>
      <MediaFormatProfiles>
         <!-- rename 3gp profiles that can be played as AVC -->
         <MediaFormatProfile mime-type="video/mp4" name="AVC_MP4_MP_SD_AAC_MULT5">AVC_3GPP_BL_QCIF15_AAC</MediaFormatProfile>
         <!-- Rename native avi formats to those supported by the tv -->
         <MediaFormatProfile mime-type="video/avi" name="">AVI</MediaFormatProfile>
         <!-- Rename native mpeg2ts with h264+ac3/aac formats to those supported by the tv (aac support is not advertised by the renderer but it works) -->
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3,AVC_TS_HD_50_AC3,AVC_TS_HD_60_AC3,AVC_TS_HD_EU">AVC_TS_MP_HD_AC3</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3,AVC_TS_HD_50_AC3,AVC_TS_HD_60_AC3,AVC_TS_HD_EU">AVC_TS_MP_SD_AC3</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3,AVC_TS_HD_50_AC3,AVC_TS_HD_60_AC3,AVC_TS_HD_EU">AVC_TS_MP_HD_AAC_MULT5</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3,AVC_TS_HD_50_AC3,AVC_TS_HD_60_AC3,AVC_TS_HD_EU">AVC_TS_MP_SD_AAC_MULT5</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_HD_AC3_T</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_SD_AC3_T</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_HP_HD_MPEG1_L2_T</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_HP_SD_MPEG1_L2_T</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_HD_AAC_MULT5_T</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_SD_AAC_MULT5_T</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_SD_MPEG1_L3</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_SD_MPEG1_L3_T</MediaFormatProfile>         
         <!-- Rename transcoded mpeg2ts with h264 to one of the TV's supported profiles -->
         <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_MP_HD_AC3_ISO</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_MP_SD_AC3_ISO</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_HP_HD_MPEG1_L2_ISO</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_HP_SD_MPEG1_L2_ISO</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_MP_HD_AAC_MULT5_ISO</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_MP_SD_AAC_MULT5_ISO</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_MP_SD_MPEG1_L3_ISO</MediaFormatProfile>
      </MediaFormatProfiles>
      <Transcoding>
         <!-- Transcode all h264 video with HIGH/MAIN > Level 4.1 on MPEG-TS stream with MPEG2VIDEO and ac3 audio transcoding -->
         <!-- expected profile MPEG_TS_SD_EU/MPEG_TS_SD_NA/MPEG_TS_SD_KO -->
         <Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="384" DAR="16:9" forceInheritance="true" maxWidth="1920" maxHeight="1080">
            <Matches container="*" vCodec="h265"/>
            <Matches container="*" vCodec="h264" profile="high_10" />
            <Matches container="*" vCodec="h264" profile="high_422" />
			<Matches container="*" vCodec="h264" profile="high_444" />
            <Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.1" />
            <Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.1" />
            <Matches container="*" widthGreaterThan="1920" />
         </Video>
         <!-- Remux containers with h264 video + AC3 audio to MPEG-TS stream without transcoding -->
         <Video targetContainer="mpegts" forceInheritance="true">
            <Matches container="avi" vCodec="h264" aCodec="ac3" />
            <Matches container="matroska" vCodec="h264" aCodec="ac3" />
            <Matches container="flv" vCodec="h264" aCodec="ac3" />
            <Matches container="wtv" vCodec="h264" aCodec="ac3" />
			 <Matches container="avi" vCodec="h264" aCodec="eac3" />
            <Matches container="matroska" vCodec="h264" aCodec="eac3" />
            <Matches container="flv" vCodec="h264" aCodec="eac3" />
            <Matches container="wtv" vCodec="h264" aCodec="eac3" />
         </Video>
         <!-- Remux all other h264 video to MPEG-TS stream with ac3 audio transcoding -->
         <!-- expected profile AVC_TS_MP_HD_AC3_ISO -->
         <Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384" forceInheritance="true">
            <Matches container="avi" vCodec="h264" />
            <Matches container="matroska" vCodec="h264" />
            <Matches container="flv" vCodec="h264" />
            <Matches container="wtv" vCodec="h264" />
            <Matches container="mp4" vCodec="h264" aCodec="mp3" />
            <Matches container="mp4" vCodec="h264" aCodec="dca" />
            <Matches container="mp4" vCodec="h264" aCodec="dts-hd" />   
            <Matches container="mp4" vCodec="h264" aCodec="lpcm" />
            <!-- if audio different to ac3, it must be transcoded -->
            <Matches container="mpegts" aCodec="truehd" />
            <Matches container="mpegts" aCodec="mp3" />
            <Matches container="mpegts" aCodec="dca" />
            <Matches container="mpegts" aCodec="dts-hd" />   
            <Matches container="mpegts" aCodec="lpcm" />
            <Matches container="mpeg" aCodec="dca" />
            <Matches container="mpeg" aCodec="dts-hd" />   
         </Video>
         <!-- VC1_ASF_AP_L3_WMA not supported : TODO find a match -->
         <!-- <Video targetContainer="asf" targetACodec="wmav2" forceStereo="true"> -->
         <!-- <Matches container="asf" vCodec="vc1" maxHeight="720"/> -->
         <!-- </Video> -->
         <!-- DVR-MS -->
         <!-- force mpeg2video transcoding to fix monotone timestamps problems -->
         <Video targetContainer="mpegts" targetACodec="ac3" forceVTranscoding="true" DAR="16:9" forceInheritance="true">
            <Matches container="asf" vCodec="mpeg2video" />
         </Video>
         <!-- All Others video/audio codec will be transcoded into mpeg2ts, mpeg2video and ac3 audio -->
         <!-- expected profile MPEG_TS_SD_EU/MPEG_TS_SD_NA/MPEG_TS_SD_KO -->
         <Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="384" DAR="16:9" forceInheritance="true">
            <Matches container="mpegts" vCodec="vc1" />
            <Matches container="matroska" />
            <Matches container="flv" />
            <Matches container="wtv" />
            <Matches container="ogg" />
            <Matches container="rm" />
            <Matches container="3gp" vCodec="mpeg4" />
            <Matches container="3gp" vCodec="h263" />
            <!-- digital camera video formats -->
               <Matches container="avi" vCodec="mjpeg" />
               <Matches container="mp4" vCodec="mjpeg" />
               <Matches container="asf" vCodec="vc1" aCodec="wmapro" />
               <Matches container="avi" vCodec="dvvideo" />
               <Matches container="mp4" vCodec="dvvideo" />
         </Video>
         <Audio targetContainer="lpcm" forceInheritance="true">
            <!-- To allow "pause" then "resume" functions and album art for TVs that support it - transcode to mp3 instead -->
            <Matches container="flac" />
            <Matches container="ogg" />
            <Matches container="adts" />  
            <Matches container="mp3" codec="mp2" />
            <Matches container="wv" />
            <Matches container="mpc" />
            <Matches container="ape" />
            <Matches container="dsf" />
            <Matches container="wav" />
            <Matches container="mp4" codec="alac" />
         </Audio>
         <Image forceInheritance="true">
            <Matches container="jpeg" subsampling="YUV444" />
         </Image>
      </Transcoding>
      <OnlineTranscoding>
         <Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384" forceInheritance="true">
            <Matches container="mp4" vCodec="h264" />
            <Matches container="flv" vCodec="h264" />
            <Matches container="applehttp" vCodec="h264" />
         </Video>
         <!-- Add DAR option for Sony Bravia -->
         <Video targetContainer="mpegts" targetVCodec="mpeg2video" DAR="16:9" targetACodec="ac3" aBitrate="384" forceInheritance="true">
            <Matches container="asf"/>
            <Matches container="flv"/>
            <Matches container="rtp"/>
            <Matches container="rtsp"/>
            <Matches container="applehttp"/>
         </Video>
      </OnlineTranscoding>
      <AudioTrackRemux>
		 <Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
			<Matches container="*" vCodec="h264" />
			<Matches container="*" vCodec="mpeg2video" /> 
			<Matches container="*" vCodec="mpeg1video" />
			<Matches container="*" vCodec="mpeg4" />
			<Matches container="*" vCodec="msmpeg4" />
		 </Video>
	  </AudioTrackRemux>
      <GenericTranscoding>
         <Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="384" DAR="16:9" />
      </GenericTranscoding>
      <LimitImageResolution>false</LimitImageResolution>
    </Profile>
    
    <Profile id="sony2013" name="Sony Bravia TV (2013/14)" extendsProfileId="1">
    	<!-- this is WIP, should be included in the inheritance tree if possible -->
	   <!-- 2013 models
	          Codec list supported : http://pdf.crse.com/manuals/13MW802111/FR/codeclist.html#5
	          - Still images: JPEG (*.jpg / *.jpe / *.jpeg), MPO (*.mpo), RAW (*.arw)
	          - Music: LPCM, MP1L1 / MP1L2 / MP1L3 / MP2L1 / MP2L2 / MP2L3 / MP2.5L3 (*.mp3), AAC-LC / HE-AAC v1/v2 (*.mp4 / *.m4a / *.3gp / *.3g2), WMA9 (*.wma)
	          - Video: MPEG1 / MPEG2PS / AVCHD , MP4, Xvid, Motion JPEG, VC1, MKV, 3gpp, MOV, WebM
	       -->
	   <Detection>
	      <UPnPSearch>
	         <FriendlyName>BRAVIA (KDL-\d{2}W[56789]\d{2}[AB].*)|(KD-\d{2}X[89]\d{3}[AB].*)</FriendlyName>
	      </UPnPSearch>
	   </Detection>
	   <DeviceDescription>
	      <!-- act as WMP so that the TV doesn't show root categories -->
	      <ModelName>Windows Media Player Sharing</ModelName>
	      <ModelNumber>3.0</ModelNumber>
	      <Manufacturer>Microsoft Corporation</Manufacturer>
	   </DeviceDescription>
	   <ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.SonyDLNAMessageBuilder</ContentDirectoryMessageBuilder>
	   <ContentDirectoryDefinitionFilter>org.serviio.upnp.service.contentdirectory.definition.WMPContentDirectoryDefinitionFilter</ContentDirectoryDefinitionFilter>
	   <MediaFormatProfiles>
	      <!-- Rename 3gp profiles that can be played as AVC -->
	      <MediaFormatProfile mime-type="video/mp4" name="AVC_MP4_MP_SD_AAC_MULT5">AVC_3GPP_BL_QCIF15_AAC</MediaFormatProfile>
	      <!-- Rename native avi formats to those supported by the tv -->
	      <MediaFormatProfile mime-type="video/avi" name="">AVI</MediaFormatProfile>
	      <!-- Rename native mpeg2ts with h264+ac3/aac formats to those supported by the tv (aac support is not advertised by the renderer but it works) -->
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3,AVC_TS_HD_24_AC3,AVC_TS_HD_60_AC3,AVC_TS_HD_EU">AVC_TS_MP_HD_AC3</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3,AVC_TS_HD_24_AC3,AVC_TS_HD_60_AC3,AVC_TS_HD_EU">AVC_TS_MP_SD_AC3</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3,AVC_TS_HD_24_AC3,AVC_TS_HD_60_AC3,AVC_TS_HD_EU">AVC_TS_MP_HD_AAC_MULT5</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3,AVC_TS_HD_24_AC3,AVC_TS_HD_60_AC3,AVC_TS_HD_EU">AVC_TS_MP_SD_AAC_MULT5</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3_T,AVC_TS_HD_24_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_HD_AC3_T</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3_T,AVC_TS_HD_24_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_SD_AC3_T</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3_T,AVC_TS_HD_24_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_HP_HD_MPEG1_L2_T</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3_T,AVC_TS_HD_24_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_HP_SD_MPEG1_L2_T</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3_T,AVC_TS_HD_24_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_HD_AAC_MULT5_T</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3_T,AVC_TS_HD_24_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_SD_AAC_MULT5_T</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3_T,AVC_TS_HD_24_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_SD_MPEG1_L3</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_50_AC3_T,AVC_TS_HD_24_AC3_T,AVC_TS_HD_60_AC3_T,AVC_TS_HD_EU_T">AVC_TS_MP_SD_MPEG1_L3_T</MediaFormatProfile>
	      <!-- Rename transcoded mpeg2ts with h264 to one of the TV's supported profiles -->
	      <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_MP_HD_AC3_ISO</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_MP_SD_AC3_ISO</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_HP_HD_MPEG1_L2_ISO</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_HP_SD_MPEG1_L2_ISO</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_MP_HD_AAC_MULT5_ISO</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_MP_SD_AAC_MULT5_ISO</MediaFormatProfile>
	      <MediaFormatProfile mime-type="video/mpeg" name="AVC_TS_HD_50_AC3_ISO,AVC_TS_HD_24_AC3_ISO,AVC_TS_HD_60_AC3_ISO,AVC_TS_HD_EU_ISO">AVC_TS_MP_SD_MPEG1_L3_ISO</MediaFormatProfile>
	   </MediaFormatProfiles>
	   <H264LevelCheck>FILE_ATTRIBUTES</H264LevelCheck>
	   <Transcoding>
	      <!-- Transcode all h264 video with HIGH/MAIN > Level 4.2 on MPEG-TS stream with MPEG2VIDEO and ac3 audio transcoding -->
	      <!-- expected profile MPEG_TS_SD_EU/MPEG_TS_SD_NA/MPEG_TS_SD_KO -->
	      <Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" DAR="16:9" forceInheritance="true" maxWidth="1920" maxHeight="1080">
	      	  <Matches container="*" vCodec="h265"/>
	          <Matches container="*" vCodec="h264" profile="high_10" />
	          <Matches container="*" vCodec="h264" profile="high_444" />
	          <Matches container="*" vCodec="h264" profile="high_422" />
	          <Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.2" />
	          <Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.2" />
	          <Matches container="matroska" vCodec="vp8" />
	          <Matches container="matroska" vCodec="vp9" />
			  <Matches container="*" widthGreaterThan="1920" />
	      </Video>
	      <!-- Remux containers with h264 video + AC3 audio to MPEG-TS stream without transcoding -->
	      <!-- Remux matroska/mpeg2video + AC3 audio to MPEG-TS stream without transcoding -->
		   <Video targetContainer="mpegts" forceInheritance="true">
			   <Matches container="avi" vCodec="h264" aCodec="ac3"/>
			   <Matches container="flv" vCodec="h264" aCodec="ac3"/>
			   <Matches container="wtv" vCodec="h264" aCodec="ac3"/>
			   <Matches container="matroska" vCodec="mpeg2video" aCodec="ac3"/>
			   <Matches container="avi" vCodec="h264" aCodec="eac3"/>
			   <Matches container="flv" vCodec="h264" aCodec="eac3"/>
			   <Matches container="wtv" vCodec="h264" aCodec="eac3"/>
			   <Matches container="matroska" vCodec="mpeg2video" aCodec="eac3"/>
		   </Video>
	      <!-- Remux all other h264 video to MPEG-TS stream with ac3 audio transcoding -->
	      <!-- Remux all other matroska/mpeg2video to MPEG-TS stream with ac3 audio transcoding -->
	      <Video targetContainer="mpegts" targetACodec="ac3" forceInheritance="true">
	         <Matches container="*" vCodec="h264" aCodec="truehd" />
	         <Matches container="*" vCodec="h264" aCodec="flac" />
	         <Matches container="avi" vCodec="h264" />
	         <Matches container="flv" vCodec="h264" />
	         <Matches container="wtv" vCodec="h264" />
	         <Matches container="matroska" vCodec="mpeg2video" />
	         <Matches container="mpegts" vCodec="h264" aCodec="mp3" />
	      </Video>
	      <!-- All Others video/audio codec will be transcoded into mpeg2ts, mpeg2video and ac3 audio -->
	      <!-- expected profile MPEG_TS_SD_EU/MPEG_TS_SD_NA/MPEG_TS_SD_KO -->
	      <Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" DAR="16:9" forceInheritance="true">
	         <Matches container="mpegts" vCodec="vc1" />
	         <Matches container="flv" />
	         <!-- example: flv/vp6/mp3 -->
	         <Matches container="wtv" />
	         <Matches container="ogg" />
	         <Matches container="rm" />
	         <!--Matches container="3gp" vCodec="mpeg4" /-->
	         <!--Matches container="3gp" vCodec="h263" /-->
	         <!-- digital camera video formats -->
	         <Matches container="avi" vCodec="mjpeg" />
	         <Matches container="mp4" vCodec="mjpeg" />
	         <Matches container="asf" vCodec="vc1" aCodec="wmapro" />
	         <Matches container="avi" vCodec="dvvideo" />
	         <Matches container="mp4" vCodec="dvvideo" />
	      </Video>
	      <Audio targetContainer="lpcm" forceInheritance="true">
	         <Matches container="flv" />
	         <Matches container="rtp" />
	         <Matches container="rtsp" />
	         <Matches container="flac" />
	         <Matches container="ogg" />
	         <Matches container="adts" />
	         <Matches container="dsf" />
	         <Matches container="wav" />
	         <Matches container="mp4" codec="alac" />
	      </Audio>
	   </Transcoding>
	   <AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" /> 
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
			</Video>
		</AudioTrackRemux>
	   <GenericTranscoding>
	      <Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" DAR="16:9" />
	   </GenericTranscoding>
	   <LimitImageResolution>false</LimitImageResolution>
	</Profile>

	<Profile id="bdp2013" name="Sony BDP-Sx100 (2013)" extendsProfileId="1">
		<DeviceDescription>
			<!-- act as WMP so that the TV doesn't show root categories -->
			<ModelName>Windows Media Player Sharing</ModelName>
			<ModelNumber>3.0</ModelNumber>
			<Manufacturer>Microsoft Corporation</Manufacturer>
		</DeviceDescription>
		<ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.SonyDLNAMessageBuilder</ContentDirectoryMessageBuilder>
		<ContentDirectoryDefinitionFilter>org.serviio.upnp.service.contentdirectory.definition.WMPContentDirectoryDefinitionFilter</ContentDirectoryDefinitionFilter>
		<MediaFormatProfiles>
			<!-- rename 3gp profiles that can be played as AVC -->
			<MediaFormatProfile mime-type="video/mp4" name="AVC_MP4_MP_SD_AAC_MULT5">AVC_3GPP_BL_QCIF15_AAC</MediaFormatProfile>
		</MediaFormatProfiles>
		<H264LevelCheck>FILE_ATTRIBUTES</H264LevelCheck>
		<Transcoding>
			<!-- For dvr-ms files force mpeg2video transcoding to fix monotone timestamps problems -->
			<Video targetContainer="mpegts" targetACodec="ac3" forceVTranscoding="true" forceInheritance="true">
				<Matches container="asf" vCodec="mpeg2video" />
				<Matches container="asf" vCodec="mpeg1video" />
			</Video>
			<!-- h264 videos with high/main profile level > 4.2 will be transcoded to mpegts with mpeg2video and ac3 audio -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="320" forceInheritance="true" maxWidth="1920" maxHeight="1080">
			 	<Matches container="*" vCodec="h265"/>
				<Matches container="*" vCodec="h264" profile="high_10" />
				<Matches container="*" vCodec="h264" profile="high_444" />
				<Matches container="*" vCodec="h264" profile="high_422" />
				<Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.2" />
				<Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.2" />
				<Matches container="matroska" vCodec="vp8" />
				<Matches container="matroska" vCodec="vp9" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<Video targetContainer="mpegts" forceInheritance="true">
				<Matches container="flv" vCodec="h264" />
			</Video>
			<!-- unsupported codecs will be transcoded to mpegts with mpeg2video and ac3 audio -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="320" forceInheritance="true">
				<Matches container="flv" />
				<Matches container="wtv" />
				<Matches container="ogg" />
				<Matches container="rm" />
				<!-- digital camera video formats -->
				<Matches container="avi" vCodec="dvvideo" />
				<Matches container="mp4" vCodec="dvvideo" />
				<Matches container="avi" vCodec="mjpeg" />
				<Matches container="mp4" vCodec="mjpeg" />
			</Video>
			<Audio targetContainer="lpcm" forceInheritance="true">
				<!-- To allow "pause" then "resume" functions and album art for TVs that support it - transcode to mp3 instead -->
				<Matches container="ogg" />
				<Matches container="mp3" codec="mp2" />
				<Matches container="wv" />
				<Matches container="mpc" />
				<Matches container="ape" />
				<Matches container="dsf" />
				<Matches container="mp4" codec="alac" />
			</Audio>			
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpegts">
				<!-- do not transcode to ac3 -->
				<Matches container="mp4" />
				<Matches container="flv" vCodec="h264" />
				<Matches container="applehttp" vCodec="h264" />
			</Video>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="320" forceInheritance="true">
				<Matches container="asf" /> <!-- to support mms:// streams -->
				<Matches container="flv" />
			</Video>
		</OnlineTranscoding>
		<AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" /> 
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
			</Video>
		</AudioTrackRemux>
		<GenericTranscoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" maxVBitrate="17000" aBitrate="320" />
		</GenericTranscoding>
		<LimitImageResolution>false</LimitImageResolution>
	</Profile>

	<Profile id="bdp2012" name="Sony BDP-Sx90 (2012)" extendsProfileId="bdp2013">
		<!-- For this BDP profile MKVs with multiple audio tracks and multiple subtitles are natively supported AVIs with DivX FourCC are transcoded,
		 no XSub subtitle support -->
		<Transcoding>
			<!-- h264 videos with high/main profile level > 4.1 will be transcoded to mpegts with mpeg2video and ac3 audio -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="320" forceInheritance="true" maxWidth="1920" maxHeight="1080">
				<Matches container="*" vCodec="h265"/>
				<Matches container="*" vCodec="h264" profile="high_10" />
				<Matches container="*" vCodec="h264" profile="high_444" />
				<Matches container="*" vCodec="h264" profile="high_422" />
				<Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.1" />
				<Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.1" />
				<Matches container="matroska" vCodec="vp8" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<!-- Remux video and transcode unsupported audio codecs flac, truehd in mkv and lpcm in mpeg -->
	        <Video targetContainer="mpegts" targetACodec="ac3" aBitrate="640">
	            <Matches container="matroska" aCodec="truehd" />
	            <Matches container="matroska" aCodec="flac" />
	            <Matches container="mpeg" aCodec="lpcm" />
	        </Video>
			<!-- unsupported codecs will be transcoded to mpegts with mpeg2video and ac3 audio -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="320" forceInheritance="true">
				<Matches container="asf" vCodec="vc1" aCodec="wmapro" />
			</Video>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="320">
				<!-- DivX -->
				<Matches container="avi" vCodec="mpeg4" vFourCC="div3,div4,div5,divx,dm4v,dx50" />
				<Matches container="avi" vCodec="msmpeg4" vFourCC="div3,div4,div5,divx,dm4v,dx50" />
			</Video>
			<Audio targetContainer="lpcm" forceInheritance="true">
				<!-- To allow "pause" then "resume" functions and album art for TVs that support it - transcode to mp3 instead -->
				<Matches container="flac" />				
			</Audio>
			<Image forceInheritance="true">
				<Matches container="jpeg" subsampling="YUV444" />
			</Image>
		</Transcoding>		
	</Profile>

	<Profile id="bdp2010" name="Sony BDP-Sx70/SMP-N100 (2010)" extendsProfileId="bdp2012">
		<!-- This profile supports XSub subtitles in AVI containers (Europe and Canada firmwares only) -->
		<Detection>
			<UPnPSearch>
				<FriendlyName>(Blu-ray Disc Player|.*Home Theat(re|er) System|Media Player)</FriendlyName>
				<Manufacturer>Sony Corporation</Manufacturer>
			</UPnPSearch>
			<HttpHeaders>
				<X-AV-Client-Info>.*cn="Sony Corporation"; mn="(Blu-ray Disc Player|.*Home Theat(re|er) System|Media Player)".*</X-AV-Client-Info>
			</HttpHeaders>
		</Detection>
		<MediaFormatProfiles>
			<!-- set mkv to divx mime-type to allow subtitle and multiple audio track support for European and Canadian players -->
			<!-- This native mkv playback disabled by default - read comment in transcoding section for the reasons -->
			<MediaFormatProfile mime-type="video/divx">MATROSKA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/divx">AVC_MKV_MP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/divx">AVC_MKV_MP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/divx">AVC_MKV_MP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/divx">AVC_MKV_HP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/divx">AVC_MKV_HP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/divx">AVC_MKV_HP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/divx">AVC_MKV_MP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/divx">AVC_MKV_MP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/divx">AVC_MKV_HP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/divx">AVC_MKV_HP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/divx">AVC_MKV_HP_HD_MLP</MediaFormatProfile>
			<!-- The following name substitutions are necessary for supporting hardware from multiple regions -->
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_PS_PAL,MPEG_PS_NTSC">AVC_MP4_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_PS_PAL,MPEG_PS_NTSC">AVC_MP4_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_PS_PAL,MPEG_PS_NTSC">AVC_MP4_MP_SD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_PS_PAL,MPEG_PS_NTSC">AVC_MP4_MP_HD_720p_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_PS_PAL,MPEG_PS_NTSC">AVC_MP4_MP_HD_1080i_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_PS_PAL,MPEG_PS_NTSC">AVC_MP4_HP_HD_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_PS_PAL,MPEG_PS_NTSC">AVC_MP4_LPCM</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_PS_PAL,MPEG_PS_NTSC">MPEG4_P2_MP4_ASP_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_PS_PAL,MPEG_PS_NTSC">MPEG4_P2_MP4_SP_L6_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_PS_PAL,MPEG_PS_NTSC">MPEG4_P2_MP4_NDSD</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HP_SD_MPEG1_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HP_SD_MPEG1_L2_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AAC_MULT5_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HD_DTS_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HD_DTS_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HD_50_LPCM_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HP_HD_MPEG1_L2_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HP_HD_MPEG1_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AAC_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AAC_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG2_L2</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG2_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG2_L2_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">VC1_TS_AP_L1_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">VC1_TS_AP_L2_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">VC1_TS_HD_DTS_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">VC1_TS_HD_DTS_ISO</MediaFormatProfile>
		</MediaFormatProfiles>
		<Transcoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="320" forceInheritance="true" maxWidth="1920" maxHeight="1080">
                <Matches container="*" vCodec="h265"/>
	            <Matches container="*" vCodec="h264" profile="high_10" />
	            <Matches container="*" vCodec="h264" profile="high_444" />
	            <Matches container="*" vCodec="h264" profile="high_422" />
	            <Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.1" />
	            <Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.1" />
	            <Matches container="matroska" vCodec="vp8" />
				<Matches container="*" widthGreaterThan="1920" />
	        </Video>
			<!-- 2010 model Sony BDP requests all formats except mpeg-ps and mpeg-ts in 32KB chunks which works badly over wifi, hence mkv files are remuxed to mpeg-ts by default in this profile. Natively played 
				mkv files stutter irretrievably after seeks, which seems to be a DLNA firmware issue with the player. If you have a European or Canadian player (not US), you stream over a wired connection and want mkv 
				subtitles, dts support, and multiple audio tracks - but don't care that you can't seek - remove all matroska transcoding matches below to have the player decode mkv natively. -->
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="320" forceInheritance="true">
				<Matches container="matroska" aCodec="dts-hd" />   
				<Matches container="matroska" aCodec="vorbis" />
				<Matches container="matroska" aCodec="truehd" />
	            <Matches container="matroska" aCodec="flac" />
				<Matches container="matroska" aCodec="eac3" />
	            <Matches container="mpeg" aCodec="lpcm" />
				<Matches container="ogg" vCodec="mpeg4" />
				<Matches container="mp4" aCodec="lpcm" />
			</Video>
			<Video targetContainer="mpegts" forceInheritance="true">
				<Matches container="matroska" />
				<!-- remux mp4 container files to mpeg-ts to allow seeking -->
				<!-- this also fixes the renderer's jerky playback of mov container files such as iPhone 4 HD video recordings -->
				<Matches container="mp4" vCodec="h264" />
				<Matches container="avi" vCodec="h264" />
				<Matches container="flv" vCodec="h264" />
			</Video>
			<!-- unsupported codecs will be transcoded to mpegts with mpeg2video and ac3 audio -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="320" forceVTranscoding="true" forceInheritance="true">
				<Matches container="asf" />
			</Video>
			<Audio targetContainer="lpcm" forceInheritance="true">
				<Matches container="mp4" />
				<Matches container="adts" />
				<Matches container="wav" />
			</Audio>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpegts" forceInheritance="true"> <!-- dont transcode to ac3 -->
				<Matches container="mp4" />
				<Matches container="flv" vCodec="h264" contentType="vod" /> <!-- exclude live flv streams which crash the renderer -->
				<Matches container="applehttp" vCodec="h264" />
			</Video>
		</OnlineTranscoding>
		<LimitImageResolution>true</LimitImageResolution>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>

	<Profile id="bdp2010us" name="Sony BDP-Sx70/SMP-N100 (2010) - US" extendsProfileId="bdp2010">
		<!-- Same as profile bdp2010, except AVI mime type must be renamed, and no XSub subtitle support in AVI container -->
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_PS_PAL,MPEG_PS_NTSC">AVI</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">MATROSKA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_MKV_MP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_MKV_MP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_MKV_MP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_MKV_HP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_MKV_HP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_MKV_HP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_MKV_MP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_MKV_MP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_MKV_HP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_MKV_HP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg">AVC_MKV_HP_HD_MLP</MediaFormatProfile>
		</MediaFormatProfiles>
	</Profile>

	<Profile id="bdp2011" name="Sony BDP-Sx80/SMP-N200 (2011)" extendsProfileId="bdp2010">
		<!-- Same as profile bdp2010, except AVIs with DivX FourCC must be transcoded, no XSub subtitle support -->
		<Transcoding>
			<!-- unsupported codecs will be transcoded to mpegts with mpeg2video and ac3 audio -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="320">
				<!-- DivX -->
				<Matches container="avi" vCodec="mpeg4" vFourCC="div3,div4,div5,divx,dm4v,dx50" />
				<Matches container="avi" vCodec="msmpeg4" vFourCC="div3,div4,div5,divx,dm4v,dx50" />
			</Video>
		</Transcoding>
	</Profile>
	
	<Profile id="13" name="Toshiba REGZA" extendsProfileId="1">
		<Transcoding>
		    <!-- Some models might play h264 in mpegts - in that case the below can be uncommented -->
			<!-- <Video targetContainer="mpegts" targetACodec="ac3">
				<Matches container="*" vCodec="h264" />
			</Video> -->
			<Video targetContainer="mpeg" targetACodec="ac3" targetVCodec="mpeg2video" maxWidth="1920" maxHeight="1080">
				<Matches container="mp4" />
				<Matches container="avi" />
				<Matches container="mpegts" />
				<Matches container="mpegvideo" />
				<Matches container="asf" />
				<Matches container="ogg" />
				<Matches container="flv" />
				<Matches container="3gp" />  
				<Matches container="rm" />
				<Matches container="matroska" />
				<!-- if audio different to ac3, must be transcoded -->
				<Matches container="mpeg" aCodec="aac" />
				<Matches container="mpeg" aCodec="mp3" />
				<Matches container="mpeg" aCodec="dca" />
				<Matches container="mpeg" aCodec="dts-hd" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<Audio targetContainer="mp3">  
	            <Matches container="mp4" />
	            <Matches container="flac" />
	            <Matches container="ogg" />
	            <Matches container="asf" />
	            <Matches container="mp3" codec="mp2" />
	            <Matches container="wv" />
	            <Matches container="mpc" />
            	<Matches container="ape" />
            	<Matches container="dsf" />
            	<Matches container="wav" />
            	<Matches container="mp4" codec="alac" />
	         </Audio>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3">
				<Matches container="mp4" />
				<Matches container="flv" />
			</Video>
		</OnlineTranscoding>
		<GenericTranscoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" />
		</GenericTranscoding>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>
	
	<Profile id="tosh2012" name="Toshiba REGZA 2012-" extendsProfileId="1">
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="audio/mp4" name="AAC_ISO_320">AAC_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/x-hx-aac-adts" name="">AAC_ADTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/x-hx-aac-adts" name="">AAC_ADTS_320</MediaFormatProfile>
			<MediaFormatProfile mime-type="image/jpeg" name="JPEG_SM">JPEG_TN</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">MPEG1</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">MPEG_TS_SD_KO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">MPEG_TS_SD_KO_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">MPEG_TS_SD_KO_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">MPEG_TS_JP_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/avi" name="">AVI</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">MATROSKA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_MP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_MP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_MP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_MP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_MP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_MLP</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4" name="">FLV</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4" name="">AVC_MP4_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4" name="">AVC_MP4_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4" name="">AVC_MP4_MP_SD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4" name="">AVC_MP4_MP_HD_720p_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4" name="">AVC_MP4_MP_HD_1080i_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4" name="">AVC_MP4_HP_HD_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4" name="">AVC_MP4_LPCM</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4" name="">MPEG4_P2_MP4_NDSD</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">MPEG4_P2_TS_ASP_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">MPEG4_P2_TS_ASP_AAC_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">MPEG4_P2_TS_ASP_AAC_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">MPEG4_P2_TS_ASP_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">MPEG4_P2_TS_ASP_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">MPEG4_P2_TS_ASP_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">MPEG4_P2_TS_ASP_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">MPEG4_P2_TS_ASP_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">MPEG4_P2_TS_ASP_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">MPEG4_P2_TS_ASP_MPEG2_L2</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">MPEG4_P2_TS_ASP_MPEG2_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">MPEG4_P2_TS_ASP_MPEG2_L2_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_SD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">AVC_TS_MP_SD_AAC_MULT5_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_SD_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">AVC_TS_MP_SD_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_SD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_SD_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">AVC_TS_MP_SD_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_HD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">AVC_TS_MP_HD_AAC_MULT5_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_HD_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">AVC_TS_MP_HD_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_MP_HD_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">AVC_TS_MP_HD_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_HD_DTS_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">AVC_TS_HD_DTS_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_HD_50_LPCM_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">AVC_TS_HP_SD_MPEG1_L2_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_HP_SD_MPEG1_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">AVC_TS_HP_HD_MPEG1_L2_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="">AVC_TS_HP_HD_MPEG1_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">AVC_TS_HP_HD_MLP</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv" name="">WMVMED_BASE</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv" name="">WMVMED_FULL</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv" name="">WMVHIGH_FULL</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv" name="">WMVMED_PRO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv" name="">WMVHIGH_PRO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-asf" name="">VC1_ASF_AP_L1_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-asf" name="">VC1_ASF_AP_L2_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-asf" name="">VC1_ASF_AP_L3_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">VC1_TS_AP_L1_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">VC1_TS_AP_L2_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">VC1_TS_HD_DTS_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mpeg" name="">VC1_TS_HD_DTS_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4" name="">AVC_3GPP_BL_QCIF15_AAC</MediaFormatProfile>
		</MediaFormatProfiles>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>

	<Profile id="14" name="WDTV Live" extendsProfileId="1">
		<Detection>
			<UPnPSearch>
				<ModelName>WD TV HD Live</ModelName>
			</UPnPSearch>
		</Detection>
		<ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.PacketVideoDLNAMessageBuilder</ContentDirectoryMessageBuilder>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="audio/x-wav">WAV</MediaFormatProfile>
		</MediaFormatProfiles>
		<Transcoding>
			<Video targetContainer="mpeg">
				<Matches container="wtv" />
			</Video>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" maxWidth="1920" maxHeight="1080">
				<Matches container="flv" /> <!-- this is used by online content, assuming WDTV cannot play local flv either -->
				<Matches container="matroska" vCodec="vp8" />
				<Matches container="matroska" vCodec="vp9" />
				<Matches container="*" vCodec="h265" />
				<Matches container="rm" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="*" aCodec="eac3" />
			</Video>
      	</Transcoding>
      	<OnlineTranscoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384">
				<Matches container="mp4" />
				<Matches container="asf" /> <!-- for mms:// -->
			</Video>
		</OnlineTranscoding>
		<AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" /> 
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
				<Matches container="*" vCodec="vc1" />
			</Video>
		</AudioTrackRemux>    
	</Profile>

	<Profile id="15" name="LaCie LaCinema Media Player"	extendsProfileId="1">
		<Detection>
			<UPnPSearch>
				<ModelNumber>LaCinema.*</ModelNumber>
			</UPnPSearch>
		</Detection>
		<ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.PacketVideoDLNAMessageBuilder</ContentDirectoryMessageBuilder>
	</Profile>

	<Profile id="16" name="Manta WIFI Centre" extendsProfileId="1">
		<Detection>
			<HttpHeaders>
				<User-Agent>.*Manta.*</User-Agent>
			</HttpHeaders>
		</Detection>
		<Transcoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video"	targetACodec="mp3" maxWidth="1920" maxHeight="1080">
				<Matches container="matroska" />
				<Matches container="mp4" />
				<Matches container="asf" />
				<Matches container="avi" />
				<Matches container="rm" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<Audio targetContainer="mp3">
				<Matches container="mp4" />
				<Matches container="flac" />
				<Matches container="ogg" />
				<Matches container="lpcm" />
				<Matches container="adts" />
				<Matches container="mp3" codec="mp2" />
				<Matches container="wv" />
				<Matches container="mpc" />
            	<Matches container="ape" />
            	<Matches container="dsf" />
            	<Matches container="wav" />
            	<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>
	
	<Profile id="17" name="Pure Flow" extendsProfileId="1">
		<Detection>
			<HttpHeaders>
				<User-Agent>.*PURE.*</User-Agent>
			</HttpHeaders>
		</Detection>
		<Transcoding>
			<Audio targetContainer="mp3" aBitrate="256">
				<Matches container="lpcm" />
				<Matches container="flac" />
				<Matches container="ogg" />
				<Matches container="wv" />
				<Matches container="mpc" />
            	<Matches container="ape" />
            	<Matches container="dsf" />
            	<Matches container="wav" />
            	<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
	</Profile>
		
	<Profile id="18" name="Sharp Aquos" extendsProfileId="1">
		<Detection>
			<HttpHeaders>
				<User-Agent>.*SHARP-AQUOS.*</User-Agent>
			</HttpHeaders>
		</Detection>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/mpeg" name="MPEG_TS_SD_EU_ISO">AVC_TS_MP_HD_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/avi" name="">AVI</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">MPEG4_P2_3GPP_SP_L0B_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">MPEG4_P2_3GPP_SP_L0B_AMR</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_3GPP_BL_QCIF15_AAC</MediaFormatProfile>
		</MediaFormatProfiles>
		<Transcoding>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="matroska" vCodec="h264"/>
				<Matches container="flv" vCodec="h264"/>				
			</Video>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" maxWidth="1920" maxHeight="1080">
				<Matches container="matroska" />
				<Matches container="flv" />
				<Matches container="wtv" />
				<Matches container="mp4" aCodec="ac3" />
				<Matches container="mp4" aCodec="eac3" />
				<Matches container="asf" />
				<Matches container="rm" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<Audio targetContainer="lpcm">
				<Matches container="asf" />
				<Matches container="flac" />
				<Matches container="ogg" />
				<Matches container="wv" />
				<Matches container="mpc" />
          		<Matches container="ape" />
          		<Matches container="dsf" />
          		<Matches container="wav" />
          		<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384">
				<Matches container="mp4" />
			</Video>
		</OnlineTranscoding>
		<AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" /> 
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
			</Video>
		</AudioTrackRemux>
		<AutomaticImageRotation>true</AutomaticImageRotation>
		<LimitImageResolution>false</LimitImageResolution>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>
	
	<Profile id="sony2011" name="Sony Bravia TV (2011)" extendsProfileId="sony2012">
      <!-- 2011 models
         - Still images: JPEG
         - Music: MP3, linear PCM, WMA
         - Video: AVCHD, MPEG2, MPEG1, MP4 (AVC), MP4 (MPEG4), DivX, WMV -->
      <Detection>
         <UPnPSearch>
            <FriendlyName>BRAVIA KDL-\d{2}([A-Z]X\d2\d|CX400).*</FriendlyName>
         </UPnPSearch>
      </Detection>
      <Transcoding>
         <!-- Transcode audio MP4 -->
         <Audio targetContainer="lpcm" forceInheritance="true">
            <!-- To allow "pause" then "resume" functions and album art for TVs that support it - transcode to mp3 instead -->
            <Matches container="mp4" />
         </Audio>
      </Transcoding>
      <MultipleAudioTrackAware>false</MultipleAudioTrackAware>
   </Profile> 
   
   <Profile id="sony2010" name="Sony Bravia TV (2010)" extendsProfileId="sony2011">
      <!-- 2010 models
         - Still images: JPEG
         - Music: MP3, linear PCM
         - Video: AVCHD, MPEG2 (not playable in some cases) -->
      <Detection>
         <UPnPSearch>
            <FriendlyName>BRAVIA KDL-\d{2}[EHLNPB]X\d[01]\d.*</FriendlyName>
         </UPnPSearch>
      </Detection>
      <Transcoding>
         <!-- Transcode all h264 video with HIGH/MAIN > Level 4.1 on MPEG-TS stream with MPEG2VIDEO and ac3 audio transcoding -->
         <!-- expected profile MPEG_TS_SD_EU/MPEG_TS_SD_NA/MPEG_TS_SD_KO -->
		  <Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="384" DAR="16:9" forceInheritance="true" maxWidth="1920" maxHeight="1080">
			  <Matches container="*" vCodec="h264" profile="high_10"/>
			  <Matches container="*" vCodec="h264" profile="high_422"/>
			  <Matches container="*" vCodec="h264" profile="high_444"/>
			  <Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.1"/>
			  <Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.1"/>
			  <Matches container="*" widthGreaterThan="1920"/>
		  </Video>
         <!-- Remux h264 video + AC3 audio to MPEG-TS stream without transcoding -->
         <Video targetContainer="mpegts" forceInheritance="true">
            <Matches container="mp4" vCodec="h264" aCodec="ac3" />
            <Matches container="3gp" vCodec="h264" aCodec="ac3" />
			<Matches container="mp4" vCodec="h264" aCodec="eac3" />
            <Matches container="3gp" vCodec="h264" aCodec="eac3" />
         </Video>
         <!-- Remux h264 video + AAC audio to MPEG-TS stream with ac3 audio transcoding -->
         <Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384" forceInheritance="true">
            <Matches container="mp4" vCodec="h264" aCodec="aac" />
            <Matches container="3gp" vCodec="h264" aCodec="aac" />    
         </Video>
         <!-- Transcode MPEG1, VC-1, DivX, AVI, MP4, WMV -->
         <Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="384" DAR="16:9" forceInheritance="true">
            <Matches container="mpegvideo" />
            <Matches container="avi" vCodec="mpeg4" />
            <Matches container="avi" vCodec="msmpeg4" />
            <Matches container="mp4" />
            <Matches container="3gp" />
            <Matches container="asf" />
         </Video>
         <!-- Transcode WMA -->
         <Audio targetContainer="lpcm" forceInheritance="true">
            <!-- To allow "pause" then "resume" functions and album art for TVs that support it - transcode to mp3 instead -->
            <Matches container="asf" />
         </Audio>
      </Transcoding>
   </Profile> 

	<Profile id="plps2010" name="Philips (2010-)" extendsProfileId="1">
		<Detection>
			<UPnPSearch>
				<FriendlyName>.*PHILIPS.*</FriendlyName>
			</UPnPSearch>
		</Detection>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/avi" name="">AVI</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">MATROSKA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_MP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_MP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_MP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_MP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_MP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_DTS</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_EAC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-matroska" name="">AVC_MKV_HP_HD_MLP</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/h264" name="">AVC_MP4_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/h264" name="">AVC_MP4_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/h264" name="">AVC_MP4_MP_SD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/h264" name="">AVC_MP4_MP_HD_720p_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/h264" name="">AVC_MP4_MP_HD_1080i_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/h264" name="">AVC_MP4_HP_HD_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/h264" name="">AVC_MP4_LPCM</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/h264" name="">MPEG4_P2_MP4_ASP_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/h264" name="">MPEG4_P2_MP4_SP_L6_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/h264" name="">MPEG4_P2_MP4_NDSD</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/h264" name="">FLV</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/x-ms-wma" name="">WMABASE</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/x-ms-wma" name="">WMAFULL</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-asf" name="">VC1_ASF_AP_L1_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-asf" name="">VC1_ASF_AP_L2_WMA</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-asf" name="">VC1_ASF_AP_L3_WMA</MediaFormatProfile>
		</MediaFormatProfiles>
		<Transcoding>
			<Video targetContainer="mpeg" targetACodec="ac3" targetVCodec="mpeg2video" maxWidth="1920" maxHeight="1080">
				<Matches container="ogg" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<!-- if audio is DTS, audio must be transcoded -->
			<Video targetContainer="mpegts" targetACodec="ac3">
				<Matches container="*" aCodec="dca" />
				<Matches container="*" aCodec="dts-hd" />   
			</Video>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" forceInheritance="true">
				<Matches container="mp4" />
				<Matches container="flv" />
			</Video>
			<Audio targetContainer="lpcm" forceInheritance="true">
				<Matches container="mp3" />
				<Matches container="flv" />
				<Matches container="asf" />
				<Matches container="wv" />
				<Matches container="mpc" />
            	<Matches container="ape" />
            	<Matches container="dsf" />
            	<Matches container="mp4" codec="alac" />
			</Audio>
		</OnlineTranscoding>
		<AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" /> 
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
			</Video>
		</AudioTrackRemux>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
   </Profile>
	
	<Profile id="20" name="Philips (2009)" extendsProfileId="plps2010">
		<Transcoding>
			<Video targetContainer="mpeg" targetACodec="ac3" targetVCodec="mpeg2video" DAR="16:9" maxWidth="1920" maxHeight="1080">
				<Matches container="matroska" />
				<Matches container="mp4" />
				<Matches container="mpegts" />
				<Matches container="mpegvideo" />
				<Matches container="asf" />
				<Matches container="ogg" />
				<Matches container="flv" />
				<Matches container="rm" />
				<!-- if audio different to ac3, must be transcoded -->
				<Matches container="mpeg" aCodec="aac" />
				<Matches container="mpeg" aCodec="mp3" />
				<Matches container="mpeg" aCodec="dca" />
				<Matches container="mpeg" aCodec="dts-hd" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
		</Transcoding>
		<AudioTrackRemux>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video"  targetACodec="ac3" DAR="16:9">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" /> 
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
				<Matches container="*" vCodec="vc1" />
			</Video>
		</AudioTrackRemux>
	</Profile>
	
	<Profile id="sony2009" name="Sony Bravia TV (2009)" extendsProfileId="sony2010">
      <!-- 2009 and earlier models need a separate profile -->
      <Detection>
         <UPnPSearch>
            <!-- 2009 models known to support UPnPSearch -->
            <FriendlyName>BRAVIA KDL-\d{2}(WE5|(E53|E55|V55|V56|W55|W57|Z55|Z57)\d0) *</FriendlyName>
         </UPnPSearch>
         <HttpHeaders>
            <!-- 2008 models, and possibly older or different region 2009 firmwares which may not support UPnPSearch -->
            <X-AV-Client-Info>.*BRAVIA KDL-\d{2}(([A-Z](1|5|E1|R1|BR45|BR9|[1357]0\d{2}|4\d{3}))|(S55|S57|W51|Z51|Z58)\d0).*</X-AV-Client-Info>
         </HttpHeaders>
      </Detection>
      <Transcoding>
         <!-- Transcode baseline h264 in mp4/non-isom container -->
         <Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="192" DAR="16:9" maxWidth="1920" maxHeight="1080">
            <Matches container="mp4" vCodec="h264" profile="baseline" ftypNotIn="isom" />
			 <Matches container="*" widthGreaterThan="1920" />
         </Video>
         <Video targetContainer="mpeg" targetACodec="ac3">
            <Matches container="mpeg" vCodec="mpeg2video" aCodec="mp2" />
         </Video>
      </Transcoding>
      <OnlineTranscoding>
         <!-- Transcode baseline h264 in mp4/non-isom container -->
         <Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="192" DAR="16:9">
            <Matches container="mp4" vCodec="h264" profile="baseline" ftypNotIn="isom" />
         </Video>
      </OnlineTranscoding>
   </Profile>
   
	<Profile id="22" name="Denon AVR" extendsProfileId="1">
		<Detection>
			<UPnPSearch>
			  <FriendlyName>Denon:\[AVR:.*</FriendlyName>
			  <Manufacturer>Denon</Manufacturer>
			</UPnPSearch>
		</Detection>
		<ContentDirectoryDefinitionFilter>org.serviio.upnp.service.contentdirectory.definition.SimpleContainerContentDirectoryDefinitionFilter</ContentDirectoryDefinitionFilter>
		<Transcoding>
			<Audio targetContainer="lpcm">
				<Matches container="mp4" />
				<Matches container="ogg" />
				<Matches container="wv" />
				<Matches container="mpc" />
            	<Matches container="ape" />
            	<Matches container="dsf" />
            	<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
	</Profile>

	<Profile id="viera2013" name="Panasonic Viera (2013)" extendsProfileId="1">
		<!-- Panasonic Viera 2013 Models: 
			Plasma's: ZT60, VT60, ST60, GT60, S60
			LED/LCD's: WT60, DT60, ET60, FT60, E6 
		Supports native streaming of mainstream MP4, MKV and XVid files
		All 60 series models also known as 64 or 65 series in some countries -->
		<Detection>
			<UPnPSearch>
				<FriendlyName>(VIERA [DFGVWZ]T6[0-5].*)|(VIERA [ES]T?6[0-5]?.*)</FriendlyName>
				<Manufacturer>Panasonic</Manufacturer>
			</UPnPSearch>
		</Detection>
		<ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.PacketVideoDLNAMessageBuilder</ContentDirectoryMessageBuilder>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/divx">AVI</MediaFormatProfile>
		</MediaFormatProfiles>
		<Transcoding>
			<!-- Transcode h264 videos with profile level > 4.1 to mpegts with ac3 audio -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" DAR="16:9" forceInheritance="true" maxWidth="1920" maxHeight="1080">
				<Matches container="*" vCodec="h264" profile="high_10" />
				<Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.1" />
				<Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.1" />
				<Matches container="*" vCodec="h265" />
				<Matches container="*" vCodec="h263" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<!-- remux FLAC/TrueHD in MKV/MP4 to AC3, DTS (MP4) to AC3 -->
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384" forceInheritance="true">
				<!-- Matches container="matroska" vCodec="h264" aCodec="dca" / --> <!-- Uncomment this line if DTS is not supported natively -->
				<Matches container="matroska" vCodec="h264" aCodec="dts-hd" />
				<Matches container="matroska" vCodec="h264" aCodec="flac" />
				<Matches container="matroska" vCodec="h264" aCodec="truehd" />
				<Matches container="mp4" vCodec="h264" aCodec="dca" /> <!-- E6 support??, remove this line -->
			</Video>
			<!-- Remux MPEG-PS with no transcoding -->
			<Video targetContainer="mpegts" forceInheritance="true">
				<Matches container="wtv" />
			</Video>
			<!-- unsupported codecs will be transcoded into mpeg-ts, mpeg2 video and ac3 audio -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" forceInheritance="true">
				<Matches container="mp4" vCodec="mjpeg" />
				<Matches container="mp4" vCodec="dvvideo" />
				<Matches container="mp4" vCodec="mpeg4" />
				<Matches container="mpeg" vCodec="mpeg1video" />
				<Matches container="matroska" vCodec="mpeg4" />
				<Matches container="matroska" vCodec="vp8" />
				<Matches container="matroska" vCodec="vp9" />
				<Matches container="asf" />
				<Matches container="ogg" />
				<Matches container="rm" />
			</Video>
			<!-- AVI files will be transcoded into mpeg-ts, mpeg2 video and ac3 audio.  
			This section is NOT inherited by other Panasonic profiles  -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384">
				<Matches container="avi" />		<!-- Remove this line for models that natively support AVI's with Xvid video (some ST60's) -->
				<Matches container="avi" vCodec="mpeg4" vFourCC="div3,div4,div5,divx,dm4v,dx50" />
				<Matches container="avi" vCodec="msmpeg4" vFourCC="div3,div4,div5,divx,dm4v,dx50" />
				<Matches container="avi" vCodec="dvvideo" />
			</Video>
			<!-- unsupported audio will be transcoded into lpcm audio -->
			<Audio targetContainer="lpcm" forceInheritance="true">
				<Matches container="ogg" />
				<Matches container="asf" />
				<Matches container="adts" />
				<Matches container="wv" />
				<Matches container="mpc" />
				<Matches container="ape" />
				<Matches container="dsf" />
				<Matches container="wav" />
				<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
		<AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="384">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" />
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
			</Video>
		</AudioTrackRemux>
		<GenericTranscoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" DAR="16:9" targetACodec="ac3" aBitrate="384" />
		</GenericTranscoding>
		<Subtitles>
			<SoftSubs mime-type="text/srt" type="srt" character-encoding="utf-8" />
			<HardSubs>
				<TextBased supported="true">
					<RequiredFor container="mp4"/>
				</TextBased>
			</HardSubs>
		</Subtitles>
		<ThumbnailsResolution>HD</ThumbnailsResolution>
	</Profile>
	
	<Profile id="viera2011a" name="Panasonic Viera G/GT/DT/UT/VT (2011/2012)" extendsProfileId="viera2013">
		<!-- Panasonic Viera G30, GT30, DT30, UT30 With avi (2011), xx50 (2012)  With AVI Support -->
		<Detection>
			<UPnPSearch>
				<FriendlyName>(VIERA (G|D|U)T?(3|5)0?.*)|(VIERA VT50.*)</FriendlyName>
				<Manufacturer>Panasonic</Manufacturer>
			</UPnPSearch>
		</Detection>
		<Transcoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" DAR="16:9" forceInheritance="true" maxWidth="1920" maxHeight="1080">
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<!-- remux VORBIS/FLAC/LPCM in MKV/MP4 to AC3 -->
			<Video targetContainer="mpegts" targetACodec="ac3" forceInheritance="true">
			    <!-- Some models support DTS natively, so the folowing line can be removed for those -->
			    <Matches container="matroska" vCodec="h264" aCodec="dca" /> <!-- ST50 supports DTS, remove this line -->
				<Matches container="matroska" vCodec="h264" aCodec="vorbis" />
				<Matches container="mp4" vCodec="h264" aCodec="lpcm" />
				<Matches container="mp4" vCodec="h264" aCodec="aac" />
				<Matches container="3gp" vCodec="h264" />
			</Video>
			<!-- Remux MPEG-TS with no transcoding -->
			<Video targetContainer="mpegts" forceInheritance="true">
				<Matches container="avi" vCodec="h264" />
				<Matches container="mp4" vCodec="h264" />
				<Matches container="matroska" vCodec="mpeg2video" />
			</Video>
			<!-- unsupported codecs will be transcoded into mpeg-ts, mpeg2 video and ac3 audio -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" forceInheritance="true">
				<Matches container="avi" vCodec="mjpeg" />
				<Matches container="avi" vCodec="dvvideo" />
				<Matches container="flv" />
				<Matches container="3gp" />
			</Video>
			<Audio targetContainer="lpcm" forceInheritance="true">
				<Matches container="flac" />
			</Audio>
		</Transcoding>
	</Profile>

	<Profile id="viera2011" name="Panasonic Viera E/S/ST/VT (2011)" extendsProfileId="viera2011a">
		<!-- Panasonic Viera E3, E30, S30, ST30, VT30 (2011), E50 (2012)  Without AVI Support -->
		<Detection>
			<UPnPSearch>
				<FriendlyName>(VIERA (E|S)T?(3|5)0?.*)|(VIERA VT30.*)</FriendlyName>
				<Manufacturer>Panasonic</Manufacturer>
			</UPnPSearch>
		</Detection>
		<Transcoding>
			<!-- unsupported codecs will be transcoded into mpeg-ts, mpeg2 video and ac3 audio -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3">
				<Matches container="avi" />				
			</Video>
		</Transcoding>
	</Profile>
	
	<Profile id="viera2010" name="Panasonic Viera (2010)" extendsProfileId="viera2011a">
		<!-- Panasonic Viera VT20, V20, G20, D25, D28 (2010) -->
		<!-- detection removed as it was interfering with detection of the 2011/2012 Viera profiles 
		<Detection>
			<HttpHeaders>
				<User-Agent>.*Panasonic.*</User-Agent>
			</HttpHeaders>
		</Detection> -->
		<Transcoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" DAR="16:9" maxWidth="1920" maxHeight="1080">
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<!-- unsupported codecs will be transcoded into mpeg-ts, mpeg2 video and ac3 audio -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" DAR="16:9">
				<Matches container="matroska" />				
			</Video>
			<Audio targetContainer="mp3">
				<Matches container="flac" />
				<Matches container="ogg" />
				<Matches container="asf" />
				<Matches container="adts" />
			</Audio>
		</Transcoding>
	</Profile>
	
	<Profile id="viera2009" name="Panasonic Viera (2009)" extendsProfileId="viera2011a">
		<!-- Panasonic Viera G15B (2009) -->
		<!-- detection removed as it was interfering with detection of the 2011/2012 Viera profiles -->
		<Transcoding>
			<!-- unsupported codecs will be transcoded into mpeg-ps, mpeg2 video and ac3 audio -->
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" maxVBitrate="12000" DAR="16:9" maxWidth="1920" maxHeight="1080">
				<Matches container="matroska" />
				<Matches container="mp4" />
				<Matches container="mpegts" />
				<Matches container="asf" />
				<Matches container="avi" />
				<Matches container="ogg" />
				<Matches container="flv" />
				<Matches container="3gp" />  				
				<Matches container="rm" />
				<!-- if audio different to ac3, must be transcoded -->
				<Matches container="mpeg" aCodec="aac" />
				<Matches container="mpeg" aCodec="mp2" />
				<Matches container="mpeg" aCodec="mp3" />
				<Matches container="mpeg" aCodec="dca" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
		</Transcoding>
	</Profile>
	
	<Profile id="sony2012us" name="Sony Bravia TV (2012) - US" extendsProfileId="sony2012">
         <!-- 2012 models for US (without avi/divx)
             - Still images: JPEG, MPO
             - Music: MP3, linear PCM, WMA, MP4
             - Video: AVCHD, MPEG2, MPEG1, MP4 (AVC), MP4 (MPEG4), WMV -->
		<Transcoding>
			<!-- Transcode DivX, AVI -->
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" maxVBitrate="17000" targetACodec="ac3" aBitrate="384" forceInheritance="true" maxWidth="1920" maxHeight="1080">
				<Matches container="avi" vCodec="mpeg4"/>
				<Matches container="avi" vCodec="msmpeg4"/>
				<Matches container="avi" vCodec="mjpeg"/>
				<Matches container="*" widthGreaterThan="1920"/>
			</Video>
		</Transcoding>
    </Profile>

   	<Profile id="sony2011us" name="Sony Bravia TV (2011) - US" extendsProfileId="sony2012us">
      <!-- 2010 models for US (without avi/divx)
         - Still images: JPEG
         - Music: MP3, linear PCM, WMA
         - Video: AVCHD, MPEG2, MPEG1, MP4 (AVC), MP4 (MPEG4), WMV -->
      <Transcoding>
         <!-- Transcode audio MP4 -->
         <Audio targetContainer="lpcm" forceInheritance="true">
            <!-- To allow "pause" then "resume" functions and album art for TVs that support it - transcode to mp3 instead -->
            <Matches container="mp4" />
         </Audio>
      </Transcoding>
      <MultipleAudioTrackAware>false</MultipleAudioTrackAware>
   </Profile>

	<Profile id="SonySTR" name="Sony AVReceiver STR" extendsProfileId="1">
		<Detection>
			<UPnPSearch>
				<FriendlyName>.*Sony STR.*</FriendlyName>
				<Manufacturer>Sony Corporation</Manufacturer>
			</UPnPSearch>
		</Detection>
		<DeviceDescription>
			<ModelName>Windows Media Player Sharing</ModelName>
			<ModelNumber>3.0</ModelNumber>
			<Manufacturer>Microsoft Corporation</Manufacturer>
		</DeviceDescription>
		<ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.SonyDLNAMessageBuilder</ContentDirectoryMessageBuilder>
		<ContentDirectoryDefinitionFilter>org.serviio.upnp.service.contentdirectory.definition.WMPContentDirectoryDefinitionFilter</ContentDirectoryDefinitionFilter>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T">AVC_TS_MP_HD_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T">AVC_TS_MP_SD_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T">AVC_TS_HP_HD_MPEG1_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T">AVC_TS_HP_SD_MPEG1_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T">AVC_TS_MP_HD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="AVC_TS_HD_24_AC3_T,AVC_TS_HD_50_AC3_T,AVC_TS_HD_60_AC3_T">AVC_TS_MP_SD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv" name="WMVSPLL_BASE,WMVSPML_MP3,WMVSPML_BASE,WMVHM_BASE">WMVMED_FULL</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv" name="WMVSPLL_BASE,WMVSPML_MP3,WMVSPML_BASE,WMVHM_BASE">WMVHIGH_FULL</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv" name="WMVSPLL_BASE,WMVSPML_MP3,WMVSPML_BASE,WMVHM_BASE">WMVMED_PRO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-ms-wmv" name="WMVSPLL_BASE,WMVSPML_MP3,WMVSPML_BASE,WMVHM_BASE">WMVHIGH_PRO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/x-wav">WAV</MediaFormatProfile>
		</MediaFormatProfiles>
		<Transcoding>
			<!-- FLV, WTV, OGV, OGG, VC1_ASF, VC1_TS not supported -->
			<!--For WLAN system mp3 target could be used -->
			<!--Audio targetContainer="mp3" aBitrate="320" aSamplerate="44100" -->
			<Audio targetContainer="lpcm">
				<Matches container="flv" />
				<Matches container="asf" />
				<Matches container="rtp" />
				<Matches container="rtsp" />
				<Matches container="flac" />
				<Matches container="ogg" />
				<Matches container="dsf" />
				<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
		<OnlineTranscoding>
			<!--Audio targetContainer="mp3" aBitrate="320" -->
			<Audio targetContainer="lpcm">
				<Matches container="adts" />
			</Audio>
		</OnlineTranscoding>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>

	<Profile id="SonyCMT" name="Sony Audio CMT" extendsProfileId="1">
		<Detection>
			<UPnPSearch>
				<FriendlyName>.*CMT.*</FriendlyName>
				<Manufacturer>Sony Corporation</Manufacturer>
			</UPnPSearch>
		</Detection>
		<Transcoding>
			<!--For WLAN system mp3 target could be used -->
			<!--Audio targetContainer="mp3" aBitrate="192" aSamplerate="44100" -->
			<Audio targetContainer="lpcm">
				<Matches container="flv" />
				<Matches container="asf" />
				<Matches container="rtp" />
				<Matches container="rtsp" />
				<Matches container="flac" />
				<Matches container="ogg" />
				<Matches container="wv" />
				<Matches container="mpc" />
            	<Matches container="ape" />
            	<Matches container="dsf" />
            	<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
	</Profile>
	
	<Profile id="viziotv" name="Vizio TV" extendsProfileId="1">
		<Transcoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3" DAR="16:9" maxWidth="1920" maxHeight="1080">
				<Matches container="matroska" />
				<Matches container="mp4" />
				<Matches container="asf" />
				<Matches container="avi" />
				<Matches container="ogg" />
				<Matches container="flv" />
				<Matches container="3gp" />
				<Matches container="rm" />
				<Matches container="mpegts" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpeg" targetVCodec="mpeg2video" targetACodec="ac3">
				<Matches container="*" />
			</Video>
		</OnlineTranscoding>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>
	
	<Profile id="panasonicBDT220" name="Panasonic BD player" extendsProfileId="1">
      <Detection>
         <UPnPSearch>
            <FriendlyName>DMP-BDT220/221</FriendlyName>
            <Manufacturer>Panasonic</Manufacturer>
         </UPnPSearch>
      </Detection>
      <ContentDirectoryMessageBuilder>org.serviio.upnp.service.contentdirectory.PacketVideoDLNAMessageBuilder</ContentDirectoryMessageBuilder>
      <MediaFormatProfiles>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts"   name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AC3_ISO</MediaFormatProfile>
         <MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts"   name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AC3_ISO</MediaFormatProfile>
      </MediaFormatProfiles>
      <Transcoding>
		  <Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" maxVBitrate="15360" DAR="16:9" maxWidth="1920" maxHeight="1080">
			  <Matches container="*" widthGreaterThan="1920" />
		  </Video>
         <Video targetContainer="mpegts" maxVBitrate="15360" DAR="16:9">
            <Matches container="*" vCodec="mpeg2video" aCodec="ac3" />
            <Matches container="matroska" vCodec="h264" aCodec="ac3" />
			<Matches container="*" vCodec="mpeg2video" aCodec="eac3" />
            <Matches container="matroska" vCodec="h264" aCodec="eac3" />
         </Video>
         <Video targetContainer="mpegts" targetACodec="ac3" maxVBitrate="15360" DAR="16:9">
            <Matches container="*" vCodec="mpeg2video" />
            <Matches container="matroska" vCodec="h264" />
            <Matches container="*" vCodec="h264" aCodec="dca"/>
         </Video>
         <Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" maxVBitrate="15360" DAR="16:9">
            <Matches container="*" vCodec="h263" />
            <Matches container="mp4" vCodec="mpeg4" /> 
            <Matches container="mp4" vCodec="msmpeg4" />
            <Matches container="asf" />
            <Matches container="mpegvideo" />
            <Matches container="mpeg" />
            <Matches container="mpegts" />
            <Matches container="matroska" />
            <Matches container="avi" />
            <Matches container="flv" />
            <Matches container="wtv" />
            <Matches container="ogg" />
            <Matches container="3gp" />
            <Matches container="rtp" />
            <Matches container="rtsp" />
            <Matches container="rm" />
         </Video>
      </Transcoding>
      <AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" /> 
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
			</Video>
		</AudioTrackRemux>
   </Profile>
	
	<Profile id="philips_streamium" name="Philips NP Streamium" extendsProfileId="1">
		<Detection>
			<UPnPSearch>
				<FriendlyName>Philips NP.*</FriendlyName>
				<Manufacturer>Royal Philips Electronics</Manufacturer>
			</UPnPSearch>
		</Detection>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="audio/x-flac" name="">FLAC</MediaFormatProfile>
		</MediaFormatProfiles>
	</Profile>
	
	<Profile id="roku" name="Chaneru" extendsProfileId="1">
		<Detection>
			<HttpHeaders>
				<User-Agent>.*CHANERU.*</User-Agent>
			</HttpHeaders>
		</Detection>
		<DeviceDescription>
			<ModelName>Chaneru for Serviio</ModelName>
			<Manufacturer>Chaneru Inc</Manufacturer>
		</DeviceDescription>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_SD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_HD_720p_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_HD_1080i_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_HP_HD_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_LPCM</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">MPEG4_P2_MP4_ASP_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">MPEG4_P2_MP4_SP_L6_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">MPEG4_P2_MP4_NDSD</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/mpeg">MP3</MediaFormatProfile>
		</MediaFormatProfiles>
		<Transcoding>
			<!-- You may have to limit video rate if Roku rebuffers <Video targetContainer="applehttp" targetVCodec="h264" maxVBitrate="2000" targetACodec="aac"> -->
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="aac" maxWidth="1920" maxHeight="1080">
				<Matches container="asf" />
				<Matches container="mpegvideo" />
				<Matches container="mpeg" />
				<Matches container="mpegts" />
				<Matches container="matroska" />
				<Matches container="avi" />
				<Matches container="flv" />
				<Matches container="wtv" />
				<Matches container="ogg" />
				<Matches container="3gp" />
				<Matches container="rtp" />
				<Matches container="rtsp" />
				<Matches container="rm" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<Audio targetContainer="mp3">
				<Matches container="*" />
				<!-- Convert everything to mp3 -->
			</Audio>
		</Transcoding>
		<GenericTranscoding>
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="aac" />
		</GenericTranscoding>
		<AutomaticImageRotation>true</AutomaticImageRotation>
	</Profile>

	<Profile id="RokuMPApp" name="Roku Media Player" extendsProfileId="1">
		<Detection>
			<HttpHeaders>
				<User-Agent>.*ROKU.*</User-Agent>
			</HttpHeaders>
		</Detection>
		<MediaFormatProfiles>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_SD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_HD_720p_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_MP_HD_1080i_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_HP_HD_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">AVC_MP4_LPCM</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">MPEG4_P2_MP4_ASP_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">MPEG4_P2_MP4_SP_L6_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/mp4">MPEG4_P2_MP4_NDSD</MediaFormatProfile>
			<MediaFormatProfile mime-type="audio/mpeg">MP3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AAC_MULT5_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_SD_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HP_SD_MPEG1_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HP_SD_MPEG1_L2_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AAC_MULT5</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AAC_MULT5_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AAC_MULT5_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_MP_HD_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HD_DTS_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HD_DTS_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HD_50_LPCM_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HP_HD_MPEG1_L2_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HP_HD_MPEG1_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">AVC_TS_HP_HD_MLP</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AAC</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AAC_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AAC_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AC3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AC3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG1_L3</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG1_L3_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG1_L3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG2_L2</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG2_L2_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">MPEG4_P2_TS_ASP_MPEG2_L2_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">VC1_TS_AP_L1_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">VC1_TS_AP_L2_AC3_ISO</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">VC1_TS_HD_DTS_T</MediaFormatProfile>
			<MediaFormatProfile mime-type="video/vnd.dlna.mpeg-tts" name="MPEG_TS_SD_EU,MPEG_TS_SD_NA,MPEG_TS_SD_KO">VC1_TS_HD_DTS_ISO</MediaFormatProfile>
		</MediaFormatProfiles>
		<Transcoding>
			<!-- Transcode unsupported VC-1 video codec -->
			<Video targetContainer="mpegts" targetVCodec="h264" maxVBitrate="12000" forceVTranscoding="true" targetACodec="ac3" aBitrate="320" maxWidth="1920" maxHeight="1080">
				<Matches container="*" vCodec="vc1" />
			</Video>
			<!-- Transcode if H.264 level is too high -->
			<Video targetContainer="applehttp" targetVCodec="h264" maxVBitrate="12000" forceVTranscoding="true" targetACodec="ac3" aBitrate="320" maxWidth="1920" maxHeight="1080">
				<Matches container="*" vCodec="h264" profile="high_10" />
				<Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.1" />
				<Matches container="*" vCodec="h264" profile="main" levelGreaterThan="4.1" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<!-- Remux audio and video streams - for DivX/Xvid in AVI/Matroska -->
			<Video targetContainer="mpegts">
				<Matches container="*" vCodec="mpeg4" aCodec="aac" />
				<Matches container="*" vCodec="msmpeg4" aCodec="aac" />
				<!-- for no surround passthrough comment out the following two lines -->
				<Matches container="*" vCodec="mpeg4" aCodec="ac3" />
				<Matches container="*" vCodec="msmpeg4" aCodec="ac3" />
				<Matches container="*" vCodec="mpeg4" aCodec="eac3" />
				<Matches container="*" vCodec="msmpeg4" aCodec="eac3" />
			</Video>
			<!-- Remux video stream, transcode audio only - for DivX/Xvid in AVI/Matroska -->
			<Video targetContainer="mpegts" targetACodec="aac" aBitrate="128">
				<Matches container="avi" vCodec="mpeg4" />
				<Matches container="avi" vCodec="msmpeg4" />
				<!-- for no surround passthrough uncomment the following two lines -->
				<!-- <Matches container="*" vCodec="mpeg4" aCodec="ac3" /> -->
				<!-- <Matches container="*" vCodec="msmpeg4" aCodec="ac3" /> -->
			</Video>
			<!-- Remux supported audio, transcode H.264 video if bitrate is too high, transcode non-H.264 video -->
			<Video targetContainer="applehttp" targetVCodec="h264" maxVBitrate="12000">
				<!-- for no surround passthrough comment out the following four lines -->
				<Matches container="*" vCodec="h264" aCodec="ac3" />
				<Matches container="*" vCodec="h264" aCodec="eac3" />
				<Matches container="*" vCodec="h264" aCodec="dca" />
				<Matches container="*" vCodec="mpeg2video" aCodec="ac3" />
				<Matches container="*" vCodec="mpeg2video" aCodec="eac3" />
				<Matches container="*" vCodec="mpeg2video" aCodec="dca" />
				<!-- comment the following line if you have files with 5.1ch AAC, Roku only supports 2 channel AAC -->
				<Matches container="*" vCodec="h264" aCodec="aac" />
			</Video>
			<!-- Transcode all audio, transcode H.264 video if bitrate is too high, transcode all other video -->
			<Video targetContainer="applehttp" targetVCodec="h264" maxVBitrate="12000" targetACodec="ac3" aBitrate="320">
				<!-- for no surround passthrough
				<Video targetContainer="mpegts" targetVCodec="h264" maxVBitrate="12000" targetACodec="aac" aBitrate="128" forceStereo="true">
				-->
				<Matches container="*" />
			</Video>
			<Audio targetContainer="mp3">
				<Matches container="*" />
			</Audio>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="applehttp"> <!-- dont transcode to ac3 -->
				<Matches container="mp4" />
				<Matches container="flv" vCodec="h264" />
				<Matches container="applehttp" vCodec="h264" />
			</Video>
		</OnlineTranscoding>
		<AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" />
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
			</Video>
		</AudioTrackRemux>
		<GenericTranscoding>
			<Video targetContainer="mpegts" targetVCodec="h264" maxVBitrate="12000" forceVTranscoding="true" targetACodec="ac3" aBitrate="320" />
		</GenericTranscoding>
		<ThumbnailsResolution>HD</ThumbnailsResolution>
		<AllowChunkedTransfer>true</AllowChunkedTransfer>
		<MultipleAudioTrackAware>true</MultipleAudioTrackAware>
		<AutomaticImageRotation>true</AutomaticImageRotation>
		<LimitImageResolution>false</LimitImageResolution>
	</Profile>

	<Profile id="Roku4kMPApp" name="Roku 4K Media Player (2016+)" extendsProfileId="RokuMPApp">
		<!-- NOTE:
		-This profile does not restrict the audio to 2 channel stereo. If you are encountering audio issues, add forceStereo="true" to the
		targetContainer line after the targetACodec setting.
		-These Roku models should be able to play videos without requiring the maxVBitrate setting. You can experiment if desired.
		-Roku players do not support mepg2 video.
		-Every effort has been made to capture videos correctly. If you discover a file being transcoded unnecessarily, please report it
		in the Serviio forum in the Transcoding section.
			-->
		<Transcoding>
			<!-- transcode HD video unsupported by device, transcode audio regardless of codec -->
			<Video targetContainer="mpegts" targetVCodec="h264" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="vc1" />
			</Video>
			<!-- Remux h264/265 video stream, transcode audio only -->
			<Video targetContainer="applehttp" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="h264" aCodec="truehd" />
				<Matches container="*" vCodec="h264" aCodec="aac" aMultichannel="true" />
				<Matches container="*" vCodec="h264" aCodec="dts-hd" />
				<Matches container="*" vCodec="h265" aCodec="truehd" />
				<Matches container="*" vCodec="h265" aCodec="dts-hd" />
			</Video>
			<!-- Transcode non-H.264 video or FLAC audio -->
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="ac3" >
				<Matches container="*" vCodec="wmv2"/>
				<Matches container="*" aCodec="flac"/>
				<Matches container="*" vCodec="mpeg1video"/>
				<Matches container="*" vCodec="mpeg2video" />
				<!-- transcode non-supported containers regardless of codec -->
				<Matches container="wtv"/>
				<Matches container="avi" />
				<Matches container="mpegvideo"/>
				<Matches container="mpeg"/>
			</Video>
			<!-- Remux audio and video streams - for DivX/Xvid in AVI/Matroska -->
			<Video targetContainer="mpegts">
				<Matches container="avi" vCodec="mpeg4" />
				<Matches container="avi" vCodec="msmpeg4" />
			</Video>
			<!-- if you have issues playing audio files, uncomment the following section to transcode MP3 -->
			<!-- <Audio targetContainer="mp3">
				<Matches container="*" />
			</Audio> -->
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="applehttp"> <!-- dont transcode to ac3 -->
				<Matches container="mp4" />
				<Matches container="flv" vCodec="h264" />
			</Video>
		</OnlineTranscoding>
		<GenericTranscoding>
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="ac3" />
		</GenericTranscoding>
		<ThumbnailsResolution>HD</ThumbnailsResolution>
		<AllowChunkedTransfer>true</AllowChunkedTransfer>
		<MultipleAudioTrackAware>true</MultipleAudioTrackAware>
		<AutomaticImageRotation>true</AutomaticImageRotation>
		<LimitImageResolution>false</LimitImageResolution>
	</Profile>

	<Profile id="RokuNo4kApp" name="Roku 1080 Media Player (2016+)" extendsProfileId="RokuMPApp">
		<!-- NOTE:
            This profile does not restrict the audio to 2 channel stereo. If you are encountering audio issues, add forceStereo="true" to the targetContainer line after the targetACodec setting.
            The player should be able to play videos without requiring the maxVBitrate setting. You can experiment if desired.
            Roku players do not support mepg2 video.
            Every effort has been made to capture videos correctly. If you discover a file being transcoded unnecessarily, please report it in the Serviio forum in the Transcoding section.
                -->
		<Transcoding>
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="ac3" aBitrate="512" maxWidth="1920" maxHeight="1080">
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<!-- transcode HD video unsupported by device, transcode audio regardless of codec -->
			<Video targetContainer="mpegts" targetVCodec="h264" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="vc1" />
			</Video>
			<!-- Remux h264 video stream, transcode audio only -->
			<Video targetContainer="applehttp" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="h264" aCodec="truehd" />
				<Matches container="*" vCodec="h264" aCodec="aac" aMultichannel="true" />
				<Matches container="*" vCodec="h264" aCodec="dts-hd" />
			</Video>
			<!-- Transcode non-H.264 video or FLAC audio -->
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="ac3" >
				<Matches container="*" vCodec="h265" />
				<Matches container="*" vCodec="wmv2"/>
				<Matches container="*" aCodec="flac"/>
				<Matches container="*" vCodec="mpeg1video"/>
				<Matches container="*" vCodec="mpeg2video" />
				<!-- transcode non-supported containers regardless of codec -->
				<Matches container="wtv"/>
				<Matches container="avi" />
				<Matches container="mpegvideo"/>
				<Matches container="mpeg"/>
			</Video>
			<!-- Remux audio and video streams - for DivX/Xvid in AVI/Matroska -->
			<Video targetContainer="mpegts">
				<Matches container="avi" vCodec="mpeg4" />
				<Matches container="avi" vCodec="msmpeg4" />
			</Video>
			<!-- if you have issues playing audio files, uncomment the following section to transcode MP3 -->
			<!-- <Audio targetContainer="mp3">
				<Matches container="*" />
			</Audio> -->
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="applehttp"> <!-- dont transcode to ac3 -->
				<Matches container="mp4" />
				<Matches container="flv" vCodec="h264" />
			</Video>
		</OnlineTranscoding>
		<GenericTranscoding>
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="ac3"/>
		</GenericTranscoding>
		<ThumbnailsResolution>HD</ThumbnailsResolution>
		<AllowChunkedTransfer>true</AllowChunkedTransfer>
		<MultipleAudioTrackAware>true</MultipleAudioTrackAware>
		<AutomaticImageRotation>true</AutomaticImageRotation>
		<LimitImageResolution>false</LimitImageResolution>
	</Profile>

	<Profile id="RokuTV" name="Roku TV (non 4K)" extendsProfileId="RokuMPApp">
		<!-- NOTE:
		This profile does not restrict the audio to 2 channel stereo. Roku TVs handle multi-channel AC3 without issue.
		Some TVs will be able to play videos without requiring the maxVBitrate setting. You can experiment if desired.
		Most Roku TVs do not support DTS audio in any format, so it is transcoded to AC3. If you are using an external AVR for audio, you can most likely comment out the DTS lines.
		Roku TVs support mepg2 video, so they are not transcoded here.
		Every effort has been made to capture videos correctly. If you discover a file being transcoded unnecessarily, please report it in the Serviio forum in the Transcoding section.
			-->
		<Detection>
			<HttpHeaders>
				<User-Agent>.*Roku/5000X.*</User-Agent>
			</HttpHeaders>
		</Detection>
		<Transcoding>
			<!-- transcode any UHD video  -->
			<Video targetContainer="applehttp" targetVCodec="h264" maxVBitrate="20000" forceVTranscoding="true" targetACodec="ac3" aBitrate="512" maxWidth="1920" maxHeight="1080">
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<!-- transcode any video with DTS audio to ac3, leaving video remuxed -->
			<Video targetContainer="mpegts" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="h264" aCodec="dca" />
				<Matches container="*" vCodec="mpeg2video" aCodec="dca" />
				<Matches container="*" aCodec="dts-hd" />
			</Video>
			<!-- transcode HD video unsupported by device, transcode audio regardless of codec -->
			<Video targetContainer="mpegts" targetVCodec="h264" maxVBitrate="20000" forceVTranscoding="true" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="vc1" />
				<Matches container="*" vCodec="h265"/>
				<Matches container="*" vCodec="h264" profile="high" levelGreaterThan="4.1" />
			</Video>
			<!-- Remux h264 video stream, transcode audio only -->
			<Video targetContainer="applehttp" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="h264" aCodec="truehd" />
				<Matches container="*" vCodec="h264" aCodec="aac" aMultichannel="true" />
				<Matches container="wtv" vCodec="h264" />
			</Video>
			<!-- Transcode non-H.264 video or FLAC audio -->
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="ac3" >
				<Matches container="*" vCodec="wmv2"/>
				<Matches container="*" aCodec="flac"/>
				<Matches container="*" vCodec="mpeg1video"/>
			</Video>
			<!-- remux non-supported containers with MPEG2 or MP4 video and AC3 audio, which are supported by the Roku TV -->
			<Video targetContainer="mpegts"  >
				<Matches container="wtv"/>
				<Matches container="avi" />
				<Matches container="mpegvideo"/>
				<Matches container="mpeg"/>
			</Video>
			<!--<Audio targetContainer="mp3">
				<Matches container="*" aCodec="flac"/>
			</Audio> -->
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="applehttp"> <!-- don't transcode to ac3 -->
				<Matches container="flv" vCodec="h264" />
			</Video>
		</OnlineTranscoding>
		<GenericTranscoding>
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="ac3" aBitrate="512" />
		</GenericTranscoding>
		<ThumbnailsResolution>HD</ThumbnailsResolution>
		<AllowChunkedTransfer>true</AllowChunkedTransfer>
		<MultipleAudioTrackAware>true</MultipleAudioTrackAware>
		<AutomaticImageRotation>true</AutomaticImageRotation>
		<LimitImageResolution>false</LimitImageResolution>
	</Profile>

	<Profile id="Roku4kTV" name="Roku 4K TV" extendsProfileId="RokuMPApp">
		<!-- NOTE:
		This profile does not restrict the audio to 2 channel stereo. Roku TVs handle multi-channel AC3 without issue.
		4K TVs should be able to play videos without requiring the maxVBitrate setting. If constant buffering occurs, first
		test with the non-4k TV profile. If that resolves the buffering issue, the add maxVBitrate="20000" forceVTranscoding="true" to the transcoding line.
		Most Roku TVs do not support DTS audio in any format, so it is transcoded to AC3. If you are using an external AVR for audio, you can most likely comment out the DTS lines.
		Roku TVs support mepg2 video, so they are not transcoded here.
		Every effort has been made to capture videos correctly. If you discover a file being transcoded unnecessarily, please report it in the Serviio forum in the Transcoding section.
			-->
		<Detection>
			<HttpHeaders>
				<User-Agent>.*Roku/6000X.*</User-Agent>
			</HttpHeaders>
		</Detection>
		<Transcoding>
			<!-- transcode DTS or lossless audio to ac3, leaving H.264/265 video remuxed - HDR content is passed without issue -->
			<Video targetContainer="applehttp" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="h264" aCodec="truehd" />
				<Matches container="*" vCodec="h264" aCodec="dts-hd" />
				<Matches container="*" vCodec="h265" aCodec="truehd" />
				<Matches container="*" vCodec="h265" aCodec="dts-hd" />
				<Matches container="*" vCodec="h264" aCodec="dca" />
				<Matches container="*" vCodec="h265" aCodec="dca" />
			</Video>
			<!-- transcode HD video unsupported by device, transcode audio regardless of codec -->
			<Video targetContainer="mpegts" targetVCodec="h264" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="vc1" />
			</Video>

			<!-- unsupported container: remux supported video codec, transcode audio only -->
			<Video targetContainer="applehttp" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="h264" aCodec="aac" aMultichannel="true" />
				<Matches container="wtv" vCodec="h264" />
				<Matches container="avi" vCodec="h264" />
			</Video>
			<!-- Unsupported video codec: transcode  to H.264 video and ac3 audio -->
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="ac3" >
				<Matches container="*" vCodec="wmv2"/>
				<Matches container="*" vCodec="mpeg1video"/>
				<Matches container="*" vCodec="mpeg2video" aCodec="dca" />
			</Video>
			<!-- transmux non-supported containers with MPEG2 or MP4 video and AC3 audio, which are supported by the Roku TV -->
			<Video targetContainer="mpegts"  >
				<Matches container="wtv"/>
				<Matches container="avi" />
				<Matches container="mpegvideo"/>
				<Matches container="mpeg"/>
			</Video>
			<!--<Audio targetContainer="mp3">

			</Audio> -->
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="applehttp"> <!-- don't transcode to ac3 -->
				<Matches container="flv" vCodec="h264" />
			</Video>
		</OnlineTranscoding>
		<GenericTranscoding>
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="ac3" aBitrate="512" />
		</GenericTranscoding>
		<ThumbnailsResolution>HD</ThumbnailsResolution>
		<AllowChunkedTransfer>true</AllowChunkedTransfer>
		<MultipleAudioTrackAware>true</MultipleAudioTrackAware>
		<AutomaticImageRotation>true</AutomaticImageRotation>
		<LimitImageResolution>false</LimitImageResolution>
	</Profile>

	<Profile id="Roku4kMPM2" name="Roku 4K Media Player w/MPEG2" extendsProfileId="RokuMPApp">
		<!-- NOTE:
		-This profile does not restrict the audio to 2 channel stereo. If you are encountering audio issues, add forceStereo="true" to the
		targetContainer line after the targetACodec setting.
		-These Roku models should be able to play videos without requiring the maxVBitrate setting. You can experiment if necessary.
		-The latest Roku players now support mepg2 video. This profile will play without transcoding supported containers, or remux unsupported containers
		-Every effort has been made to capture videos correctly. If you discover a file being transcoded unnecessarily, please report it
		in the Serviio forum in the Transcoding section.
			-->
		<Transcoding>
			<!-- Remux H.264/265 video stream, transcode audio only -->
			<Video targetContainer="applehttp" targetACodec="ac3" aBitrate="512">
				<Matches container="*" vCodec="h264" aCodec="truehd" />
				<Matches container="*" vCodec="h264" aCodec="dts-hd" />
				<Matches container="*" vCodec="h265" aCodec="truehd" />
				<Matches container="*" vCodec="h265" aCodec="dts-hd" />
			</Video>
			<!-- Transcode VC1 video, which for some reason doesn't seem to like HLS transcoding -->
			<Video targetContainer="mpegts" targetVCodec="h264" targetACodec="ac3" aBitrate="512" >
				<Matches container="*" vCodec="vc1"/>
			</Video>
			<!-- Transcode other non-H.264 video or FLAC audio -->
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="ac3" >
				<Matches container="*" vCodec="wmv2"/>
				<Matches container="*" aCodec="flac"/>
				<Matches container="*" vCodec="mpeg1video"/>
				<!-- transcode non-supported containers regardless of codec -->
				<Matches container="wtv"/>
				<Matches container="avi" />
				<Matches container="mpegvideo"/>
				<Matches container="mpeg"/>
			</Video>
			<!-- if you have issues playing audio files, uncomment the following section to transcode all audio to MP3 -->
			<!-- <Audio targetContainer="mp3">
				<Matches container="*" />
			</Audio> -->
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="applehttp"> <!-- dont transcode audio -->
				<Matches container="mp4" />
				<Matches container="flv" vCodec="h264" />
			</Video>
		</OnlineTranscoding>
		<GenericTranscoding>
			<Video targetContainer="applehttp" targetVCodec="h264" targetACodec="ac3" />
		</GenericTranscoding>
		<ThumbnailsResolution>HD</ThumbnailsResolution>
		<AllowChunkedTransfer>true</AllowChunkedTransfer>
		<MultipleAudioTrackAware>true</MultipleAudioTrackAware>
		<AutomaticImageRotation>true</AutomaticImageRotation>
		<LimitImageResolution>false</LimitImageResolution>
	</Profile>

	<Profile id="YamBD" name="Yamaha BD-A1020/BD-A1010" extendsProfileId="1">
		<!-- YAMAHA BD-A1020, BD-A1010, -->
		<Detection>
			<UPnPSearch>
				<FriendlyName>BD-A10(1|2)0</FriendlyName>
				<Manufacturer>YAMAHA CORPORATION</Manufacturer>
			</UPnPSearch>
		</Detection>
		<Transcoding>
			<!--For WLAN system mp3 target could be used -->
			<!--Audio targetContainer="mp3" aBitrate="192" aSamplerate="44100" -->
			<Audio targetContainer="lpcm">
				<Matches container="mp4" /> <!-- The device should plays audio/mp4 natively so this line can be removed -->
				<Matches container="flv" />
				<Matches container="asf" />
				<Matches container="rtp" />
				<Matches container="rtsp" />
				<Matches container="wv" />
				<Matches container="mpc" />
				<Matches container="ape" />
				<Matches container="ogg" />
				<Matches container="dsf" />
				<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
	</Profile>
	
	<Profile id="TNDC" name="Telenet Yelo TV" extendsProfileId="1">
		<!-- http://klantenservice.telenet.be/content/welke-formaten-van-foto-s-filmpjes-en-muziek-kan-ik-via-yelo-tv-delen-op-mijn-tv   -->
		<Detection>
			<UPnPSearch>
				<Manufacturer>.*smosys.*</Manufacturer>
			</UPnPSearch>
		</Detection>
		<Transcoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="aac" maxWidth="1920" maxHeight="1080">
				<Matches container="matroska" />
				<Matches container="flv" />
				<Matches container="wtv" />
				<Matches container="ogg" />
				<Matches container="3gp" />				
				<Matches container="rm" />
				<Matches container="asf" />
				<Matches container="*" vCodec="wmv2" />
				<Matches container="*" vCodec="flv" />
				<Matches container="*" vCodec="theora" />
				<Matches container="*" vCodec="rv" />
				<Matches container="*" aCodec="ac3" />
				<Matches container="*" aCodec="eac3" />
				<Matches container="*" aCodec="wmav2" />
				<Matches container="*" aCodec="wmapro" />
				<Matches container="*" aCodec="flac" />
				<Matches container="*" aCodec="vorbis" />
				<Matches container="*" aCodec="truehd" />
				<Matches container="*" aCodec="amrnb" />
				<Matches container="*" aCodec="real" />
				<Matches container="*" aCodec="dca" />
				<Matches container="*" aCodec="dts-hd" />   
				<Matches container="*" vCodec="h264" levelGreaterThan="4.1" />
				<Matches container="*" widthGreaterThan="1920" />
			</Video>
			<Audio targetContainer="mp3" aBitrate="320" >
				<Matches container="flac" />
				<Matches container="ogg" />
				<Matches container="adts" />
				<Matches container="mp3" codec="mp2" />
				<Matches container="wv" />
				<Matches container="mpc" />
				<Matches container="ape" />
				<Matches container="dsf" />
				<Matches container="wav" />
				<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
		<OnlineTranscoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="aac">
				<Matches container="*" />
			</Video>
		</OnlineTranscoding>
		<GenericTranscoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="aac"/>
		</GenericTranscoding>
		<AutomaticImageRotation>true</AutomaticImageRotation>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>

	<Profile id="xbox_one_s_x" name="Xbox One S/Xbox One X" extendsProfileId="1">
		<Transcoding>
			<!-- All Xbox One consoles gained HEVC decoding support via a software update in May 2015 -->
			<!-- https://support.xbox.com/en-GB/xbox-one/console/system-update-operating-system-2015#779ee9a98b77406398de190e937a72f8 -->
			<!-- As with older Intel CPUs the base Xbox One model is likely using partial hardware decoding, and is likely limited to 1080p -->
			<!-- The Xbox One S has an updated APU design with hardware decoder for up to 10bit HEVC @ 2160p -->
			<!-- https://www.eurogamer.net/articles/digitalfoundry-2016-inside-xbox-one-s-tech-interview -->
			<!-- The Xbox One X also supports 10bit HEVC @ 2160p -->
			<Video targetContainer="mpegts" targetACodec="ac3" forceInheritance="true">
				<Matches container="*" vCodec="h264" aCodec="dca" />
				<Matches container="*" vCodec="h264" aCodec="dts-hd" />
				<Matches container="*" vCodec="h264" aCodec="vorbis" />
				<Matches container="*" vCodec="h264" aCodec="truehd" />
				<Matches container="*" vCodec="h264" aCodec="flac" />
				<Matches container="*" vCodec="h265" aCodec="dca" />
				<Matches container="*" vCodec="h265" aCodec="dts-hd" />
				<Matches container="*" vCodec="h265" aCodec="vorbis" />
				<Matches container="*" vCodec="h265" aCodec="truehd" />
				<Matches container="*" vCodec="h265" aCodec="flac" />
				<Matches container="*" vCodec="h265" aCodec="opus" />
				<Matches container="3gp" vCodec="mpeg4" aCodec="amrnb" />
				<Matches container="flv" vCodec="h264" />
			</Video>
			<Video targetContainer="mpegts" forceInheritance="true">
				<Matches container="matroska" vCodec="vc1" />
				<Matches container="wtv" />
			</Video>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" forceInheritance="true">
				<!-- Matches container="3gp" vCodec="h263" /-->
				<Matches container="flv" />
				<Matches container="ogg" />
				<Matches container="rm" />
				<!-- WebM -->
				<Matches container="matroska" vCodec="vp9" />
			</Video>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" forceVTranscoding="true" forceInheritance="true">
				<Matches container="asf" vCodec="mpeg2video" />
				<Matches container="asf" vCodec="mpeg1video" />
			</Video>
			<Audio targetContainer="lpcm" forceInheritance="true">
				<!--Matches container="adts" /-->
				<Matches container="ape" />
				<Matches container="flac" />
				<Matches container="flv" />
				<Matches container="mpc" />
				<Matches container="ogg" />
				<Matches container="wv" />
				<Matches container="dsf" />
				<Matches container="asf" codec="wmalossless" />
				<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
		<AudioTrackRemux>
			<Video targetContainer="mpegts" targetACodec="ac3" forceInheritance="true">
				<Matches container="*" vCodec="h264" />
				<Matches container="*" vCodec="mpeg2video" />
				<Matches container="*" vCodec="mpeg1video" />
				<Matches container="*" vCodec="mpeg4" />
				<Matches container="*" vCodec="msmpeg4" />
			</Video>
		</AudioTrackRemux>
		<GenericTranscoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" />
		</GenericTranscoding>
		<ThumbnailsResolution>HD</ThumbnailsResolution>
		<LimitImageResolution>false</LimitImageResolution>
		<MultipleAudioTrackAware>false</MultipleAudioTrackAware>
	</Profile>

	<Profile id="xbox_one" name="Xbox One" extendsProfileId="xbox_one_s_x">
		<Detection>
			<UPnPSearch>
				<ModelName>Xbox One</ModelName>
			</UPnPSearch>
		</Detection>
		<Transcoding>
			<Video targetContainer="mpegts" targetVCodec="mpeg2video" targetACodec="ac3" aBitrate="384" maxWidth="1920" maxHeight="1080">
				<Matches container="*" vCodec="h265" widthGreaterThan="1920" heightGreaterThan="1080" />
			</Video>
		</Transcoding>
	</Profile>
	
	<Profile id="raumfeld" name="Raumfeld" extendsProfileId="1">
		<Detection>
			<UPnPSearch>
				<ModelName>Raumfeld Speaker M</ModelName>
				<Manufacturer>Raumfeld GmbH</Manufacturer>
			</UPnPSearch>
		</Detection>
		<DeviceDescription>
			<ModelName>Windows Media Player Sharing</ModelName>
			<ModelNumber>12.0</ModelNumber>
			<Manufacturer>Microsoft Corporation</Manufacturer>
		</DeviceDescription>
		<ContentDirectoryDefinitionFilter>org.serviio.upnp.service.contentdirectory.definition.RaumfeldContentDirectoryDefinitionFilter</ContentDirectoryDefinitionFilter>
		<Transcoding>
			<Audio targetContainer="mp3">
				<Matches container="adts" />
				<Matches container="ape" />
				<Matches container="flac" />
				<Matches container="flv" />
				<Matches container="mpc" />
				<Matches container="ogg" />
				<Matches container="wv" />
				<Matches container="dsf" />
				<Matches container="wav" />
				<Matches container="mp4" codec="alac" />
			</Audio>
		</Transcoding>
	</Profile>
	
</Profiles>
